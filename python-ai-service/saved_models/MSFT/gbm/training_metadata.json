{
  "symbol": "MSFT",
  "data_metadata": {
    "symbol": "MSFT",
    "n_samples": 10020,
    "n_features": 157,
    "target_col": "target_1d",
    "target_stats": {
      "mean": 0.0009350378977516263,
      "std": 0.020196082385870003,
      "min": -0.1,
      "max": 0.1,
      "pct_positive": 0.5075848303393213,
      "pct_negative": 0.47145708582834334
    },
    "leakage_check": {
      "is_valid": true,
      "flagged_features": [],
      "sentiment_features": [
        "sentiment_mean",
        "sentiment_std",
        "sentiment_min",
        "sentiment_max",
        "sentiment_sma_5",
        "sentiment_sma_20",
        "sentiment_momentum",
        "sentiment_acceleration",
        "sentiment_volatility",
        "sentiment_rsi",
        "price_up_sentiment_down",
        "price_down_sentiment_up",
        "volume_surge_sentiment",
        "sentiment_z_score"
      ],
      "total_features": 157
    },
    "date_range": {
      "start": "1986-03-14 00:00:00",
      "end": "2025-12-18 00:00:00"
    },
    "prepared_at": "2025-12-21T16:25:02.713254"
  },
  "models": {
    "xgb": {
      "cv_results": {
        "model_class": "xgb",
        "n_splits": 5,
        "fold_metrics": [
          {
            "fold": 1,
            "train_size": 9719,
            "val_size": 60,
            "mse": 0.00018051080688975807,
            "rmse": 0.013435431027315725,
            "mae": 0.008871302077599341,
            "r2": 0.0046532746030183425,
            "dir_acc": 0.6,
            "ic": 0.10532905439393025,
            "pred_std": 0.0004424160870257765
          },
          {
            "fold": 2,
            "train_size": 9779,
            "val_size": 60,
            "mse": 0.00029394235543195156,
            "rmse": 0.01714474716733821,
            "mae": 0.012477373102769092,
            "r2": -0.09467897075213405,
            "dir_acc": 0.5333333333333333,
            "ic": -0.04316480533214099,
            "pred_std": 0.003531702095642686
          },
          {
            "fold": 3,
            "train_size": 9839,
            "val_size": 60,
            "mse": 0.0005288754048390845,
            "rmse": 0.022997291250038222,
            "mae": 0.014844707607812226,
            "r2": -0.3437917319550512,
            "dir_acc": 0.3333333333333333,
            "ic": -0.16456394410750555,
            "pred_std": 0.006076859310269356
          },
          {
            "fold": 4,
            "train_size": 9899,
            "val_size": 60,
            "mse": 0.00010553305571856311,
            "rmse": 0.01027292829326493,
            "mae": 0.007261263864890095,
            "r2": 0.012607895724483398,
            "dir_acc": 0.5333333333333333,
            "ic": 0.16667435216837964,
            "pred_std": 0.00243092468008399
          },
          {
            "fold": 5,
            "train_size": 9959,
            "val_size": 60,
            "mse": 0.00015552587552109716,
            "rmse": 0.012471001384054816,
            "mae": 0.009508255040159088,
            "r2": -0.03665711275632111,
            "dir_acc": 0.5166666666666667,
            "ic": 0.09915997084623678,
            "pred_std": 0.0037474262062460184
          }
        ],
        "aggregate_metrics": {
          "mse_mean": 0.0002528774996800909,
          "mse_std": 0.00016903093514813354,
          "rmse_mean": 0.01526427982440238,
          "rmse_std": 0.004984884793356979,
          "mae_mean": 0.010592580338645968,
          "mae_std": 0.0030360031180025906,
          "r2_mean": -0.09157332902720092,
          "r2_std": 0.14726917993293556,
          "dir_acc_mean": 0.5033333333333333,
          "dir_acc_std": 0.10027739304327549,
          "ic_mean": 0.032686925593780024,
          "ic_std": 0.1344521901868917
        },
        "oof_predictions": "[        nan         nan         nan ...  0.00082525 -0.00286574\n -0.0002657 ]",
        "oof_indices": "[-1 -1 -1 ...  4  4  4]",
        "feature_importance": {
          "price_to_sma50": 0.018669234588742256,
          "macd_high_vol": 0.012829529121518135,
          "momentum_1d": 0.011692410334944725,
          "volume_surge": 0.011665919795632362,
          "above_vwap": 0.011619779281318188,
          "latest_high_pivot": 0.011456017382442951,
          "latest_low_pivot": 0.01114684995263815,
          "rsi_high_vol": 0.010986887849867344,
          "distance_to_nearest_resistance": 0.010655125603079796,
          "regime_high_vol": 0.010474087670445442,
          "rv_iv_spread": 0.010197138413786888,
          "rsi_divergence_10d": 0.010109776630997658,
          "ema_26": 0.010002554394304752,
          "rsi_divergence_5d": 0.00993769709020853,
          "rsi_low_vol": 0.00985860638320446,
          "body_size": 0.00975858885794878,
          "vwap_deviation": 0.009720250964164734,
          "momentum_divergence_20d": 0.00951467640697956,
          "upper_shadow": 0.009449852630496025,
          "dist_to_high_pivot": 0.009435860440135002,
          "volume_price_trend": 0.009353095665574074,
          "atr_percent": 0.00931312795728445,
          "return_lag_5": 0.00930497795343399,
          "vap_poc_price": 0.009262661449611187,
          "ema_12": 0.009222546592354774,
          "vix": 0.009201662614941597,
          "rsi_14": 0.009198238141834736,
          "high_low_range": 0.0091469194740057,
          "hvn_proximity": 0.009123139083385468,
          "acceleration_5d": 0.009102126583456993,
          "accumulation_distribution": 0.009080030024051666,
          "rsi_divergence_3_14": 0.009044850245118141,
          "rsi_divergence_3_14_z": 0.009044671431183815,
          "ema_12_26_cross": 0.009022699669003487,
          "momentum_divergence_5d": 0.008975883945822716,
          "dist_to_vap_poc": 0.0089256064966321,
          "close_position": 0.008922463282942772,
          "distance_to_fib_500": 0.008902892470359802,
          "return_lag_2": 0.008890812285244465,
          "velocity_10d": 0.008868588134646416,
          "vw_momentum_5d": 0.008865251205861568,
          "rsi_28": 0.008863920345902443,
          "distance_to_fib_618": 0.008843597024679184,
          "volume_concentration_score": 0.008836732245981693,
          "rsi_3": 0.008833810687065125,
          "rate_of_change_10d": 0.008776435628533363,
          "vwap_band_position": 0.008773808367550373,
          "gap_down": 0.008681477047502995,
          "bb_width": 0.008638350293040276,
          "rsi_divergence_20d": 0.008623354136943817,
          "lower_shadow": 0.008614626713097095,
          "sma_50": 0.008614245802164078,
          "vpi": 0.008592993021011353,
          "realized_vol_20d": 0.008582857437431812,
          "distance_to_fib_382": 0.008547450415790081,
          "accumulation_signal": 0.00852365605533123,
          "bb_position": 0.00852147676050663,
          "gap_up": 0.008498956449329853,
          "dist_to_low_pivot": 0.008468685671687126,
          "return_lag_1": 0.008468324318528175,
          "vol_ratio_5_20": 0.0084554897621274,
          "vwap_volume_ratio": 0.008450404740869999,
          "distribution_signal": 0.008438223041594028,
          "rsi_divergence_7_28_z": 0.008412115275859833,
          "distance_to_nearest_support": 0.008376793935894966,
          "sma_10_20_cross": 0.008323404006659985,
          "velocity_20d": 0.00830650981515646,
          "vw_momentum_20d": 0.008297664113342762,
          "momentum_5d": 0.008296309970319271,
          "bb_lower": 0.008284050039947033,
          "obv_ema": 0.008267040364444256,
          "volume_velocity": 0.008230844512581825,
          "vwap_crossover": 0.008226996287703514,
          "rsi_velocity": 0.008171959780156612,
          "rv_iv_spread_zscore": 0.008157588541507721,
          "vpi_short": 0.008116012439131737,
          "lower_low": 0.008111872710287571,
          "bb_upper": 0.008015139028429985,
          "resistance_strength": 0.00800919346511364,
          "near_support_zone": 0.008005514740943909,
          "volume_ratio": 0.007991386577486992,
          "rsi_momentum": 0.007986311800777912,
          "macd_low_vol": 0.007954956963658333,
          "velocity_5d": 0.00793980248272419,
          "bb_squeeze": 0.007868563756346703,
          "obv": 0.007860240526497364,
          "rsi_divergence_7_28": 0.007824944332242012,
          "sma_10": 0.007824809290468693,
          "price_to_sma20": 0.007804262451827526,
          "momentum_20d": 0.007792189717292786,
          "sma_20": 0.007781649939715862,
          "bb_position_low_vol": 0.007757003419101238,
          "rsi_7": 0.007739649619907141,
          "vwap_crossunder": 0.007596397306770086,
          "volume_sma": 0.007508785929530859,
          "stoch_d": 0.007430040277540684,
          "atr": 0.00733062531799078,
          "in_consolidation_zone": 0.0068501136265695095,
          "macd_histogram": 0.006789908744394779,
          "macd_signal": 0.006789782550185919,
          "iv_regime_fair": 0.006758150644600391,
          "higher_high": 0.006615155376493931,
          "regime_low_vol": 0.00655727181583643,
          "macd": 0.006514199078083038,
          "volume_surge_with_price": 0.00629636412486434,
          "rsi_cross_30": 0.006281049456447363,
          "stoch_k": 0.006208992563188076,
          "near_resistance_zone": 0.006178571376949549,
          "volatility_5d": 0.006032463628798723,
          "log_returns": 0.005836774129420519,
          "iv_regime_underpriced": 0.005777688231319189,
          "volatility_regime_normal": 0.005606517195701599,
          "volatility_20d": 0.0055182562209665775,
          "support_strength": 0.00550908362492919,
          "returns": 0.0051560672000050545,
          "large_volume_day": 0.0049333833158016205,
          "rsi_cross_70": 0.0046538738533854485,
          "rsi": 0.004541755188256502,
          "iv_regime_overpriced": 0.0033920027781277895,
          "bullish_regime": 0.0,
          "broke_support": 0.0,
          "days_since_support_break": 0.0,
          "bearish_regime": 0.0,
          "days_since_resistance_break": 0.0,
          "broke_resistance": 0.0,
          "price_up_sentiment_down": 0.0,
          "regime_strength": 0.0,
          "news_volume_normalized": 0.0,
          "news_volume": 0.0,
          "nsis_normalized": 0.0,
          "negative_ratio": 0.0,
          "neutral_regime": 0.0,
          "news_velocity": 0.0,
          "nsis_fast": 0.0,
          "nsis": 0.0,
          "price_down_sentiment_up": 0.0,
          "positive_ratio": 0.0,
          "nsis_slow": 0.0,
          "high_volume_positive": 0.0,
          "high_volume_negative": 0.0,
          "low_volume_day": 0.0,
          "sentiment_z_score": 0.0,
          "sentiment_volatility": 0.0,
          "sentiment_min": 0.0,
          "sentiment_momentum": 0.0,
          "sentiment_rsi": 0.0,
          "sentiment_sma_20": 0.0,
          "sentiment_sma_5": 0.0,
          "sentiment_std": 0.0,
          "sentiment_mean": 0.0,
          "sentiment_max": 0.0,
          "sentiment_acceleration": 0.0,
          "surge_positive": 0.0,
          "surge_negative": 0.0,
          "strong_bullish_divergence": 0.0,
          "strong_bearish_divergence": 0.0,
          "volume_surge_sentiment": 0.0
        },
        "top_features": [
          "price_to_sma50",
          "macd_high_vol",
          "momentum_1d",
          "volume_surge",
          "above_vwap",
          "latest_high_pivot",
          "latest_low_pivot",
          "rsi_high_vol",
          "distance_to_nearest_resistance",
          "regime_high_vol",
          "rv_iv_spread",
          "rsi_divergence_10d",
          "ema_26",
          "rsi_divergence_5d",
          "rsi_low_vol",
          "body_size",
          "vwap_deviation",
          "momentum_divergence_20d",
          "upper_shadow",
          "dist_to_high_pivot"
        ],
        "training_curves": [
          "logs/xgb_training_curve_MSFT_fold1.png",
          "logs/xgb_training_curve_MSFT_fold2.png",
          "logs/xgb_training_curve_MSFT_fold3.png",
          "logs/xgb_training_curve_MSFT_fold4.png",
          "logs/xgb_training_curve_MSFT_fold5.png"
        ],
        "collapsed_folds": 1
      },
      "final_metadata": {
        "model_class": "xgb",
        "n_samples": 10020,
        "n_features": 157,
        "best_iteration": 0,
        "training_curve_path": "logs/xgb_training_curve_MSFT_final.png",
        "ic": 0.21411948995131158,
        "direction_acc": 0.5083832335329341,
        "prediction_stats": {
          "mean": 0.0009380994597449899,
          "std": 9.523880726192147e-05,
          "min": -0.00039649964310228825,
          "max": 0.002860843203961849,
          "pct_positive": 0.9992015968063872,
          "pct_negative": 0.0007984031936127744
        },
        "trained_at": "2025-12-21T16:25:28.881505"
      },
      "model_path": "saved_models/MSFT/gbm/xgb_reg.joblib",
      "scaler_path": "saved_models/MSFT/gbm/xgb_scaler.joblib"
    },
    "lgb": {
      "cv_results": {
        "model_class": "lgb",
        "n_splits": 5,
        "fold_metrics": [
          {
            "fold": 1,
            "train_size": 9719,
            "val_size": 60,
            "mse": 0.00018115565102654315,
            "rmse": 0.01345940752880836,
            "mae": 0.00889987035027291,
            "r2": 0.0010975678229114827,
            "dir_acc": 0.6333333333333333,
            "ic": 0.03779695566610911,
            "pred_std": 0.0005577919278729639
          },
          {
            "fold": 2,
            "train_size": 9779,
            "val_size": 60,
            "mse": 0.00029353644846284743,
            "rmse": 0.01713290542969427,
            "mae": 0.012809590214614423,
            "r2": -0.09316732122307236,
            "dir_acc": 0.5166666666666667,
            "ic": 0.02731566252059295,
            "pred_std": 0.004358177603309076
          },
          {
            "fold": 3,
            "train_size": 9839,
            "val_size": 60,
            "mse": 0.0005028495964363154,
            "rmse": 0.022424308159591354,
            "mae": 0.01398200509125886,
            "r2": -0.2776641226370711,
            "dir_acc": 0.43333333333333335,
            "ic": -0.027206945407819788,
            "pred_std": 0.00687614846994156
          },
          {
            "fold": 4,
            "train_size": 9899,
            "val_size": 60,
            "mse": 0.00012108857814117597,
            "rmse": 0.011004025542553779,
            "mae": 0.007801742371373262,
            "r2": -0.1329332327246855,
            "dir_acc": 0.5333333333333333,
            "ic": -0.06374836649160663,
            "pred_std": 0.0030757812237154447
          },
          {
            "fold": 5,
            "train_size": 9959,
            "val_size": 60,
            "mse": 0.00016984084638878554,
            "rmse": 0.013032300118888666,
            "mae": 0.009892723923164506,
            "r2": -0.1320734948803084,
            "dir_acc": 0.4166666666666667,
            "ic": -0.013345198316844423,
            "pred_std": 0.004054780863714336
          }
        ],
        "aggregate_metrics": {
          "mse_mean": 0.00025369422409113345,
          "mse_std": 0.0001529242404619827,
          "rmse_mean": 0.015410589355907283,
          "rmse_std": 0.004501105391280368,
          "mae_mean": 0.010677186390136793,
          "mae_std": 0.0026225648080944355,
          "r2_mean": -0.12694812072844516,
          "r2_std": 0.10039203781791944,
          "dir_acc_mean": 0.5066666666666666,
          "dir_acc_std": 0.08708233651742087,
          "ic_mean": -0.007837578405913755,
          "ic_std": 0.04138170950766988
        },
        "oof_predictions": "[        nan         nan         nan ...  0.00067187 -0.00215777\n -0.00105264]",
        "oof_indices": "[-1 -1 -1 ...  4  4  4]",
        "feature_importance": {
          "return_lag_5": 959.4,
          "return_lag_2": 951.2,
          "lower_shadow": 852.6,
          "return_lag_1": 801.4,
          "upper_shadow": 797.2,
          "body_size": 732.2,
          "vix": 718.6,
          "volume_velocity": 690.8,
          "hvn_proximity": 675.4,
          "close_position": 651.6,
          "acceleration_5d": 637.6,
          "vol_ratio_5_20": 629.2,
          "rv_iv_spread_zscore": 619.8,
          "high_low_range": 597.0,
          "atr_percent": 562.2,
          "dist_to_low_pivot": 562.0,
          "volatility_5d": 554.6,
          "vpi": 554.2,
          "obv": 552.8,
          "volume_concentration_score": 552.4,
          "obv_ema": 529.8,
          "distance_to_nearest_support": 529.8,
          "vpi_short": 525.0,
          "volume_sma": 522.8,
          "distance_to_nearest_resistance": 521.4,
          "velocity_10d": 517.6,
          "rv_iv_spread": 499.0,
          "rsi_divergence_3_14_z": 488.2,
          "bb_width": 484.8,
          "returns": 480.8,
          "gap_down": 480.4,
          "dist_to_high_pivot": 478.8,
          "stoch_d": 461.4,
          "macd_histogram": 432.0,
          "sma_10_20_cross": 413.8,
          "accumulation_distribution": 402.6,
          "volume_price_trend": 402.4,
          "dist_to_vap_poc": 398.8,
          "rsi_divergence_7_28_z": 394.8,
          "rsi_velocity": 378.0,
          "gap_up": 367.4,
          "vw_momentum_5d": 359.8,
          "atr": 358.6,
          "stoch_k": 354.0,
          "rsi_divergence_20d": 343.2,
          "rsi_divergence_3_14": 338.2,
          "ema_12_26_cross": 337.0,
          "macd_signal": 334.4,
          "velocity_20d": 320.2,
          "momentum_divergence_5d": 317.8,
          "volatility_20d": 315.8,
          "volume_ratio": 315.6,
          "velocity_5d": 314.4,
          "sma_50": 313.6,
          "bb_upper": 302.4,
          "macd": 302.4,
          "sma_10": 301.8,
          "rsi_28": 295.6,
          "bb_lower": 288.2,
          "rsi_divergence_10d": 285.0,
          "vw_momentum_20d": 280.0,
          "rsi_3": 276.4,
          "latest_high_pivot": 274.0,
          "vwap_band_position": 263.6,
          "distance_to_fib_382": 262.8,
          "realized_vol_20d": 261.4,
          "rsi_divergence_5d": 259.0,
          "distance_to_fib_500": 255.2,
          "latest_low_pivot": 249.6,
          "vap_poc_price": 247.6,
          "momentum_divergence_20d": 239.2,
          "vwap_deviation": 238.8,
          "rsi_divergence_7_28": 223.2,
          "ema_12": 220.2,
          "distance_to_fib_618": 219.4,
          "rsi": 186.6,
          "ema_26": 182.6,
          "bb_position": 179.6,
          "rsi_7": 175.6,
          "sma_20": 158.4,
          "macd_high_vol": 117.8,
          "price_to_sma50": 116.2,
          "rsi_14": 100.2,
          "rate_of_change_10d": 74.2,
          "price_to_sma20": 72.0,
          "log_returns": 68.8,
          "rsi_high_vol": 57.8,
          "rsi_momentum": 56.6,
          "vwap_volume_ratio": 51.0,
          "momentum_20d": 43.0,
          "momentum_5d": 38.2,
          "in_consolidation_zone": 34.2,
          "bb_position_low_vol": 34.0,
          "vwap_crossunder": 32.0,
          "bb_squeeze": 28.8,
          "near_resistance_zone": 28.8,
          "lower_low": 25.0,
          "higher_high": 23.8,
          "near_support_zone": 21.0,
          "distribution_signal": 19.6,
          "rsi_low_vol": 17.8,
          "vwap_crossover": 16.0,
          "macd_low_vol": 13.0,
          "accumulation_signal": 11.8,
          "iv_regime_underpriced": 11.6,
          "momentum_1d": 10.0,
          "rsi_cross_70": 9.8,
          "iv_regime_fair": 9.4,
          "volatility_regime_normal": 6.8,
          "volume_surge_with_price": 3.0,
          "regime_high_vol": 2.2,
          "support_strength": 2.0,
          "resistance_strength": 1.2,
          "volume_surge": 1.0,
          "large_volume_day": 0.4,
          "rsi_cross_30": 0.2,
          "above_vwap": 0.0,
          "bullish_regime": 0.0,
          "broke_support": 0.0,
          "days_since_resistance_break": 0.0,
          "broke_resistance": 0.0,
          "days_since_support_break": 0.0,
          "bearish_regime": 0.0,
          "iv_regime_overpriced": 0.0,
          "high_volume_positive": 0.0,
          "regime_strength": 0.0,
          "price_up_sentiment_down": 0.0,
          "regime_low_vol": 0.0,
          "news_volume": 0.0,
          "nsis_normalized": 0.0,
          "negative_ratio": 0.0,
          "neutral_regime": 0.0,
          "news_velocity": 0.0,
          "nsis_fast": 0.0,
          "nsis": 0.0,
          "news_volume_normalized": 0.0,
          "positive_ratio": 0.0,
          "price_down_sentiment_up": 0.0,
          "nsis_slow": 0.0,
          "high_volume_negative": 0.0,
          "low_volume_day": 0.0,
          "sentiment_z_score": 0.0,
          "sentiment_volatility": 0.0,
          "sentiment_min": 0.0,
          "sentiment_momentum": 0.0,
          "sentiment_rsi": 0.0,
          "sentiment_sma_20": 0.0,
          "sentiment_sma_5": 0.0,
          "sentiment_std": 0.0,
          "sentiment_mean": 0.0,
          "sentiment_max": 0.0,
          "sentiment_acceleration": 0.0,
          "surge_positive": 0.0,
          "surge_negative": 0.0,
          "strong_bullish_divergence": 0.0,
          "strong_bearish_divergence": 0.0,
          "volume_surge_sentiment": 0.0
        },
        "top_features": [
          "return_lag_5",
          "return_lag_2",
          "lower_shadow",
          "return_lag_1",
          "upper_shadow",
          "body_size",
          "vix",
          "volume_velocity",
          "hvn_proximity",
          "close_position",
          "acceleration_5d",
          "vol_ratio_5_20",
          "rv_iv_spread_zscore",
          "high_low_range",
          "atr_percent",
          "dist_to_low_pivot",
          "volatility_5d",
          "vpi",
          "obv",
          "volume_concentration_score"
        ],
        "training_curves": [
          "logs/lgb_training_curve_MSFT_fold1.png",
          "logs/lgb_training_curve_MSFT_fold2.png",
          "logs/lgb_training_curve_MSFT_fold3.png",
          "logs/lgb_training_curve_MSFT_fold4.png",
          "logs/lgb_training_curve_MSFT_fold5.png"
        ],
        "collapsed_folds": 1
      },
      "final_metadata": {
        "model_class": "lgb",
        "n_samples": 10020,
        "n_features": 157,
        "best_iteration": 200,
        "training_curve_path": "logs/lgb_training_curve_MSFT_final.png",
        "ic": 0.6709342193306881,
        "direction_acc": 0.660379241516966,
        "prediction_stats": {
          "mean": 0.0009352922586261632,
          "std": 0.005036817810264042,
          "min": -0.05703107458054476,
          "max": 0.06463630487811843,
          "pct_positive": 0.7575848303393213,
          "pct_negative": 0.24241516966067864
        },
        "trained_at": "2025-12-21T16:26:01.798752"
      },
      "model_path": "saved_models/MSFT/gbm/lgb_reg.joblib",
      "scaler_path": "saved_models/MSFT/gbm/lgb_scaler.joblib"
    }
  }
}