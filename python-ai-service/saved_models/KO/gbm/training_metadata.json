{
  "symbol": "KO",
  "data_metadata": {
    "symbol": "KO",
    "n_samples": 16098,
    "n_features": 157,
    "target_col": "target_1d",
    "target_stats": {
      "mean": 0.000464680932398221,
      "std": 0.01413946619844397,
      "min": -0.1,
      "max": 0.1,
      "pct_positive": 0.49136538700459687,
      "pct_negative": 0.4590632376692757
    },
    "leakage_check": {
      "is_valid": true,
      "flagged_features": [],
      "sentiment_features": [
        "sentiment_mean",
        "sentiment_std",
        "sentiment_min",
        "sentiment_max",
        "sentiment_sma_5",
        "sentiment_sma_20",
        "sentiment_momentum",
        "sentiment_acceleration",
        "sentiment_volatility",
        "sentiment_rsi",
        "price_up_sentiment_down",
        "price_down_sentiment_up",
        "volume_surge_sentiment",
        "sentiment_z_score"
      ],
      "total_features": 157
    },
    "date_range": {
      "start": "1962-01-03 00:00:00",
      "end": "2025-12-17 00:00:00"
    },
    "prepared_at": "2025-12-19T20:19:40.421583"
  },
  "models": {
    "xgb": {
      "cv_results": {
        "model_class": "xgb",
        "n_splits": 5,
        "fold_metrics": [
          {
            "fold": 1,
            "train_size": 15797,
            "val_size": 60,
            "mse": 8.107076759132566e-05,
            "rmse": 0.009003930674506866,
            "mae": 0.007059506495923088,
            "r2": -0.06564124242205649,
            "dir_acc": 0.4166666666666667,
            "ic": NaN,
            "pred_std": 0.0
          },
          {
            "fold": 2,
            "train_size": 15857,
            "val_size": 60,
            "mse": 0.00017028046593245844,
            "rmse": 0.013049155755544434,
            "mae": 0.01018538725161714,
            "r2": -0.06003631233876283,
            "dir_acc": 0.55,
            "ic": 0.029579525390941594,
            "pred_std": 0.001668522716499865
          },
          {
            "fold": 3,
            "train_size": 15917,
            "val_size": 60,
            "mse": 0.00015098099774582218,
            "rmse": 0.012287432512360839,
            "mae": 0.00917251344615405,
            "r2": -0.006480352795103395,
            "dir_acc": 0.48333333333333334,
            "ic": -0.14129820112287694,
            "pred_std": 0.00020800463971681893
          },
          {
            "fold": 4,
            "train_size": 15977,
            "val_size": 60,
            "mse": 7.211338831718864e-05,
            "rmse": 0.008491960216415798,
            "mae": 0.006849449269443072,
            "r2": -0.02820531531594961,
            "dir_acc": 0.4,
            "ic": 0.07638700251580029,
            "pred_std": 8.621076995041221e-05
          },
          {
            "fold": 5,
            "train_size": 16037,
            "val_size": 60,
            "mse": 0.00011279758984132126,
            "rmse": 0.010620620972491264,
            "mae": 0.007874869392989847,
            "r2": -0.001482433992888721,
            "dir_acc": 0.55,
            "ic": 0.06446315697025361,
            "pred_std": 0.00016706896713003516
          }
        ],
        "aggregate_metrics": {
          "mse_mean": 0.00011744864188562322,
          "mse_std": 4.2766481504373133e-05,
          "rmse_mean": 0.01069062002626384,
          "rmse_std": 0.0019872359383292203,
          "mae_mean": 0.00822834517122544,
          "mae_std": 0.0014242498304756403,
          "r2_mean": -0.032369131372952206,
          "r2_std": 0.029639756121280326,
          "dir_acc_mean": 0.4800000000000001,
          "dir_acc_std": 0.07110243002567182,
          "ic_mean": 0.007282870938529636,
          "ic_std": 0.10102547844711528
        },
        "oof_predictions": "[       nan        nan        nan ... 0.00052285 0.00056438 0.00053203]",
        "oof_indices": "[-1 -1 -1 ...  4  4  4]",
        "feature_importance": {
          "rsi_momentum": 0.024678615853190422,
          "bb_position": 0.018818069249391556,
          "rsi_high_vol": 0.014659811742603779,
          "macd_high_vol": 0.01420666091144085,
          "rv_iv_spread": 0.013732291758060455,
          "rsi_divergence_5d": 0.013700348325073719,
          "latest_high_pivot": 0.013400822877883911,
          "rsi_divergence_7_28": 0.013089688494801521,
          "vw_momentum_20d": 0.012822642922401428,
          "momentum_divergence_5d": 0.012555928900837898,
          "vw_momentum_5d": 0.012452873401343822,
          "latest_low_pivot": 0.01235639862716198,
          "volume_price_trend": 0.012160172685980797,
          "momentum_divergence_20d": 0.012152093462646008,
          "vpi_short": 0.012151290662586689,
          "distance_to_fib_618": 0.012144220061600208,
          "log_returns": 0.012104193679988384,
          "macd": 0.011972125619649887,
          "momentum_1d": 0.011917421594262123,
          "rsi_divergence_20d": 0.011740227229893208,
          "atr": 0.011602307669818401,
          "vap_poc_price": 0.011514847166836262,
          "obv_ema": 0.011285779997706413,
          "dist_to_vap_poc": 0.01125454343855381,
          "vix": 0.011218389496207237,
          "volume_concentration_score": 0.011178871616721153,
          "gap_up": 0.011177527718245983,
          "upper_shadow": 0.011111877858638763,
          "rsi_14": 0.011097871698439121,
          "accumulation_signal": 0.010890265926718712,
          "in_consolidation_zone": 0.010878453962504864,
          "vwap_deviation": 0.010863767936825752,
          "rsi_28": 0.010837512090802193,
          "velocity_5d": 0.01080508716404438,
          "price_to_sma20": 0.010736607946455479,
          "high_low_range": 0.010721766389906406,
          "momentum_20d": 0.010649521835148335,
          "atr_percent": 0.010407673195004463,
          "obv": 0.01039320882409811,
          "realized_vol_20d": 0.010387835092842579,
          "vpi": 0.010358212515711784,
          "bb_upper": 0.010311797261238098,
          "distance_to_fib_382": 0.010256747715175152,
          "stoch_k": 0.010175616480410099,
          "hvn_proximity": 0.010133488103747368,
          "ema_12": 0.010062702931463718,
          "rsi_3": 0.00968465767800808,
          "rsi_divergence_7_28_z": 0.00964642595499754,
          "rsi_divergence_3_14_z": 0.00963306613266468,
          "sma_20": 0.009619454853236675,
          "rv_iv_spread_zscore": 0.009616827592253685,
          "rsi_7": 0.009600207209587097,
          "velocity_20d": 0.00946088694036007,
          "vwap_band_position": 0.009376084432005882,
          "bb_squeeze": 0.009211256168782711,
          "body_size": 0.009151528589427471,
          "gap_down": 0.009127047844231129,
          "volume_ratio": 0.009113971143960953,
          "volatility_20d": 0.009084351360797882,
          "distance_to_nearest_resistance": 0.009068824350833893,
          "return_lag_5": 0.009060589596629143,
          "distance_to_fib_500": 0.009028914384543896,
          "volume_sma": 0.009012104012072086,
          "higher_high": 0.008958429098129272,
          "accumulation_distribution": 0.008924497291445732,
          "sma_10": 0.008918617852032185,
          "return_lag_2": 0.008879208005964756,
          "close_position": 0.008789083920419216,
          "acceleration_5d": 0.008787347935140133,
          "velocity_10d": 0.008758950978517532,
          "lower_shadow": 0.008695938624441624,
          "ema_12_26_cross": 0.008593922480940819,
          "ema_26": 0.00847027637064457,
          "bb_width": 0.008467358537018299,
          "distance_to_nearest_support": 0.008423248305916786,
          "dist_to_high_pivot": 0.008346599526703358,
          "volatility_5d": 0.008330145850777626,
          "dist_to_low_pivot": 0.008323604241013527,
          "returns": 0.008310246281325817,
          "momentum_5d": 0.008271865546703339,
          "bb_lower": 0.008182164281606674,
          "price_to_sma50": 0.008089935407042503,
          "sma_50": 0.008039860054850578,
          "stoch_d": 0.007957704365253448,
          "iv_regime_fair": 0.00793374702334404,
          "macd_histogram": 0.00788728054612875,
          "macd_signal": 0.007866792380809784,
          "lower_low": 0.00777303334325552,
          "volume_velocity": 0.007533201016485691,
          "rate_of_change_10d": 0.007355606649070978,
          "sma_10_20_cross": 0.007271277718245983,
          "return_lag_1": 0.007025069557130337,
          "rsi_divergence_10d": 0.007001480553299189,
          "vol_ratio_5_20": 0.006706117652356625,
          "rsi_divergence_3_14": 0.006678343750536442,
          "rsi": 0.005792779382318258,
          "rsi_velocity": 0.0053498586639761925,
          "rsi_cross_30": 0.004849724471569061,
          "near_resistance_zone": 0.004045665264129639,
          "vwap_volume_ratio": 0.0029786464292556047,
          "volume_surge_with_price": 0.002733064815402031,
          "distribution_signal": 0.0011157034896314144,
          "volatility_regime_normal": 0.0007605885621160269,
          "rsi_low_vol": 0.0006798546528443694,
          "near_support_zone": 0.0005188120412640274,
          "days_since_support_break": 0.0,
          "above_vwap": 0.0,
          "bb_position_low_vol": 0.0,
          "bearish_regime": 0.0,
          "bullish_regime": 0.0,
          "broke_support": 0.0,
          "days_since_resistance_break": 0.0,
          "broke_resistance": 0.0,
          "low_volume_day": 0.0,
          "iv_regime_underpriced": 0.0,
          "macd_low_vol": 0.0,
          "high_volume_positive": 0.0,
          "high_volume_negative": 0.0,
          "large_volume_day": 0.0,
          "iv_regime_overpriced": 0.0,
          "news_volume": 0.0,
          "nsis_normalized": 0.0,
          "nsis_slow": 0.0,
          "price_down_sentiment_up": 0.0,
          "positive_ratio": 0.0,
          "regime_high_vol": 0.0,
          "regime_low_vol": 0.0,
          "regime_strength": 0.0,
          "price_up_sentiment_down": 0.0,
          "resistance_strength": 0.0,
          "negative_ratio": 0.0,
          "neutral_regime": 0.0,
          "news_velocity": 0.0,
          "nsis_fast": 0.0,
          "nsis": 0.0,
          "news_volume_normalized": 0.0,
          "sentiment_acceleration": 0.0,
          "sentiment_mean": 0.0,
          "sentiment_max": 0.0,
          "rsi_cross_70": 0.0,
          "sentiment_std": 0.0,
          "sentiment_z_score": 0.0,
          "sentiment_volatility": 0.0,
          "sentiment_min": 0.0,
          "sentiment_momentum": 0.0,
          "sentiment_rsi": 0.0,
          "sentiment_sma_20": 0.0,
          "sentiment_sma_5": 0.0,
          "surge_positive": 0.0,
          "surge_negative": 0.0,
          "support_strength": 0.0,
          "strong_bullish_divergence": 0.0,
          "strong_bearish_divergence": 0.0,
          "volume_surge_sentiment": 0.0,
          "volume_surge": 0.0,
          "vwap_crossunder": 0.0,
          "vwap_crossover": 0.0
        },
        "top_features": [
          "rsi_momentum",
          "bb_position",
          "rsi_high_vol",
          "macd_high_vol",
          "rv_iv_spread",
          "rsi_divergence_5d",
          "latest_high_pivot",
          "rsi_divergence_7_28",
          "vw_momentum_20d",
          "momentum_divergence_5d",
          "vw_momentum_5d",
          "latest_low_pivot",
          "volume_price_trend",
          "momentum_divergence_20d",
          "vpi_short",
          "distance_to_fib_618",
          "log_returns",
          "macd",
          "momentum_1d",
          "rsi_divergence_20d"
        ],
        "training_curves": [
          "logs/xgb_training_curve_KO_fold1.png",
          "logs/xgb_training_curve_KO_fold2.png",
          "logs/xgb_training_curve_KO_fold3.png",
          "logs/xgb_training_curve_KO_fold4.png",
          "logs/xgb_training_curve_KO_fold5.png"
        ],
        "collapsed_folds": 4
      },
      "final_metadata": {
        "model_class": "xgb",
        "n_samples": 16098,
        "n_features": 157,
        "best_iteration": 2,
        "training_curve_path": "logs/xgb_training_curve_KO_final.png",
        "ic": 0.24926191610504253,
        "direction_acc": 0.4974530997639458,
        "prediction_stats": {
          "mean": 0.0005061608972027898,
          "std": 0.00021941981685813516,
          "min": -0.0037493007257580757,
          "max": 0.008303305134177208,
          "pct_positive": 0.9912411479686918,
          "pct_negative": 0.008758852031308237
        },
        "trained_at": "2025-12-19T20:19:44.180417"
      },
      "model_path": "saved_models/KO/gbm/xgb_reg.joblib",
      "scaler_path": "saved_models/KO/gbm/xgb_scaler.joblib"
    },
    "lgb": {
      "cv_results": {
        "model_class": "lgb",
        "n_splits": 5,
        "fold_metrics": [
          {
            "fold": 1,
            "train_size": 15797,
            "val_size": 60,
            "mse": 8.107324092902445e-05,
            "rmse": 0.00900406802112381,
            "mae": 0.007059933555965815,
            "r2": -0.06567375340889647,
            "dir_acc": 0.4166666666666667,
            "ic": 0.13024285013095024,
            "pred_std": 7.05785186355487e-05
          },
          {
            "fold": 2,
            "train_size": 15857,
            "val_size": 60,
            "mse": 0.00016715444141347866,
            "rmse": 0.012928822120111278,
            "mae": 0.010010249217869955,
            "r2": -0.04057606782255241,
            "dir_acc": 0.5666666666666667,
            "ic": 0.07546188269118421,
            "pred_std": 0.0012570185862393374
          },
          {
            "fold": 3,
            "train_size": 15917,
            "val_size": 60,
            "mse": 0.00015076684628372188,
            "rmse": 0.01227871517235097,
            "mae": 0.009141301837163083,
            "r2": -0.005052760963387248,
            "dir_acc": 0.4666666666666667,
            "ic": -0.03734631179785519,
            "pred_std": 0.0004531950492548131
          },
          {
            "fold": 4,
            "train_size": 15977,
            "val_size": 60,
            "mse": 7.210312780176297e-05,
            "rmse": 0.008491356063772321,
            "mae": 0.006842680598110458,
            "r2": -0.028059019090730608,
            "dir_acc": 0.38333333333333336,
            "ic": 0.031515469416472416,
            "pred_std": 0.0001332448898744903
          },
          {
            "fold": 5,
            "train_size": 16037,
            "val_size": 60,
            "mse": 0.00011269898195912351,
            "rmse": 0.010615977673258526,
            "mae": 0.007899749727036208,
            "r2": -0.0006069360144902447,
            "dir_acc": 0.5,
            "ic": 0.09253692249373101,
            "pred_std": 0.00015047691515781837
          }
        ],
        "aggregate_metrics": {
          "mse_mean": 0.0001167593276774223,
          "mse_std": 4.177420912575423e-05,
          "rmse_mean": 0.01066378781012338,
          "rmse_std": 0.00195030677653744,
          "mae_mean": 0.008190782987229103,
          "mae_std": 0.001359673149583812,
          "r2_mean": -0.027993707460011397,
          "r2_std": 0.026713424513632775,
          "dir_acc_mean": 0.4666666666666667,
          "dir_acc_std": 0.07168604389202188,
          "ic_mean": 0.05848216258689655,
          "ic_std": 0.06424160039916543
        },
        "oof_predictions": "[       nan        nan        nan ... 0.00045745 0.00064619 0.0005192 ]",
        "oof_indices": "[-1 -1 -1 ...  4  4  4]",
        "feature_importance": {
          "volume_concentration_score": 23.0,
          "return_lag_5": 21.6,
          "dist_to_vap_poc": 21.4,
          "momentum_divergence_20d": 18.6,
          "high_low_range": 18.2,
          "obv": 18.0,
          "distance_to_fib_618": 17.6,
          "atr_percent": 16.4,
          "velocity_20d": 15.8,
          "lower_shadow": 14.8,
          "returns": 13.8,
          "acceleration_5d": 13.8,
          "bb_upper": 13.4,
          "return_lag_1": 13.2,
          "body_size": 13.0,
          "volatility_5d": 13.0,
          "sma_50": 12.4,
          "velocity_10d": 12.4,
          "upper_shadow": 12.2,
          "ema_26": 11.8,
          "volume_velocity": 11.4,
          "gap_up": 11.2,
          "sma_10": 11.0,
          "return_lag_2": 10.8,
          "vw_momentum_20d": 10.8,
          "sma_10_20_cross": 10.8,
          "gap_down": 10.6,
          "volatility_20d": 10.6,
          "hvn_proximity": 10.6,
          "bb_width": 10.4,
          "realized_vol_20d": 10.4,
          "rsi_divergence_7_28": 10.0,
          "vol_ratio_5_20": 9.6,
          "bb_lower": 9.6,
          "dist_to_low_pivot": 9.6,
          "latest_low_pivot": 9.4,
          "rsi_3": 9.2,
          "rsi_divergence_20d": 8.2,
          "vix": 8.2,
          "sma_20": 8.2,
          "accumulation_distribution": 8.2,
          "rsi_7": 8.2,
          "obv_ema": 7.6,
          "dist_to_high_pivot": 7.6,
          "atr": 7.4,
          "ema_12_26_cross": 7.2,
          "distance_to_nearest_support": 7.0,
          "vw_momentum_5d": 7.0,
          "rsi_divergence_7_28_z": 7.0,
          "momentum_divergence_5d": 6.8,
          "rsi_divergence_10d": 6.8,
          "close_position": 6.8,
          "volume_price_trend": 6.4,
          "vpi_short": 6.4,
          "rsi_28": 6.4,
          "vwap_deviation": 6.2,
          "velocity_5d": 6.2,
          "macd_signal": 6.0,
          "rv_iv_spread": 6.0,
          "distance_to_fib_500": 5.8,
          "ema_12": 5.8,
          "rsi_divergence_5d": 5.8,
          "stoch_d": 5.8,
          "distance_to_nearest_resistance": 5.6,
          "macd_high_vol": 5.4,
          "stoch_k": 5.2,
          "rsi_divergence_3_14_z": 5.2,
          "in_consolidation_zone": 5.2,
          "macd_histogram": 4.6,
          "log_returns": 4.4,
          "volume_sma": 4.2,
          "distance_to_fib_382": 3.8,
          "rsi_high_vol": 3.8,
          "vpi": 3.6,
          "vap_poc_price": 3.4,
          "price_to_sma20": 3.2,
          "rate_of_change_10d": 3.0,
          "vwap_band_position": 3.0,
          "volume_ratio": 2.8,
          "rsi_divergence_3_14": 2.8,
          "bb_position": 2.8,
          "rsi_velocity": 2.8,
          "rv_iv_spread_zscore": 2.6,
          "latest_high_pivot": 2.6,
          "macd": 2.4,
          "vwap_volume_ratio": 2.2,
          "macd_low_vol": 2.2,
          "rsi": 2.0,
          "momentum_1d": 1.8,
          "momentum_20d": 1.6,
          "momentum_5d": 1.6,
          "price_to_sma50": 1.4,
          "rsi_momentum": 1.0,
          "rsi_14": 1.0,
          "lower_low": 0.6,
          "rsi_cross_30": 0.4,
          "near_resistance_zone": 0.4,
          "bb_squeeze": 0.2,
          "broke_support": 0.0,
          "distribution_signal": 0.0,
          "bearish_regime": 0.0,
          "accumulation_signal": 0.0,
          "above_vwap": 0.0,
          "days_since_resistance_break": 0.0,
          "broke_resistance": 0.0,
          "bullish_regime": 0.0,
          "days_since_support_break": 0.0,
          "bb_position_low_vol": 0.0,
          "nsis_fast": 0.0,
          "near_support_zone": 0.0,
          "iv_regime_underpriced": 0.0,
          "iv_regime_overpriced": 0.0,
          "iv_regime_fair": 0.0,
          "higher_high": 0.0,
          "high_volume_positive": 0.0,
          "high_volume_negative": 0.0,
          "low_volume_day": 0.0,
          "large_volume_day": 0.0,
          "nsis": 0.0,
          "news_volume_normalized": 0.0,
          "news_volume": 0.0,
          "nsis_normalized": 0.0,
          "nsis_slow": 0.0,
          "price_down_sentiment_up": 0.0,
          "positive_ratio": 0.0,
          "regime_high_vol": 0.0,
          "regime_low_vol": 0.0,
          "regime_strength": 0.0,
          "price_up_sentiment_down": 0.0,
          "resistance_strength": 0.0,
          "negative_ratio": 0.0,
          "neutral_regime": 0.0,
          "news_velocity": 0.0,
          "sentiment_mean": 0.0,
          "sentiment_max": 0.0,
          "rsi_low_vol": 0.0,
          "sentiment_acceleration": 0.0,
          "rsi_cross_70": 0.0,
          "sentiment_sma_20": 0.0,
          "sentiment_sma_5": 0.0,
          "sentiment_std": 0.0,
          "sentiment_z_score": 0.0,
          "sentiment_volatility": 0.0,
          "sentiment_min": 0.0,
          "sentiment_momentum": 0.0,
          "sentiment_rsi": 0.0,
          "surge_positive": 0.0,
          "surge_negative": 0.0,
          "strong_bearish_divergence": 0.0,
          "volatility_regime_normal": 0.0,
          "support_strength": 0.0,
          "strong_bullish_divergence": 0.0,
          "volume_surge": 0.0,
          "volume_surge_sentiment": 0.0,
          "volume_surge_with_price": 0.0,
          "vwap_crossunder": 0.0,
          "vwap_crossover": 0.0
        },
        "top_features": [
          "volume_concentration_score",
          "return_lag_5",
          "dist_to_vap_poc",
          "momentum_divergence_20d",
          "high_low_range",
          "obv",
          "distance_to_fib_618",
          "atr_percent",
          "velocity_20d",
          "lower_shadow",
          "returns",
          "acceleration_5d",
          "bb_upper",
          "return_lag_1",
          "body_size",
          "volatility_5d",
          "sma_50",
          "velocity_10d",
          "upper_shadow",
          "ema_26"
        ],
        "training_curves": [
          "logs/lgb_training_curve_KO_fold1.png",
          "logs/lgb_training_curve_KO_fold2.png",
          "logs/lgb_training_curve_KO_fold3.png",
          "logs/lgb_training_curve_KO_fold4.png",
          "logs/lgb_training_curve_KO_fold5.png"
        ],
        "collapsed_folds": 4
      },
      "final_metadata": {
        "model_class": "lgb",
        "n_samples": 16098,
        "n_features": 157,
        "best_iteration": 200,
        "training_curve_path": "logs/lgb_training_curve_KO_final.png",
        "ic": 0.5815064955834699,
        "direction_acc": 0.6034289973909802,
        "prediction_stats": {
          "mean": 0.00046478167156346136,
          "std": 0.003221263277582121,
          "min": -0.054764186905434394,
          "max": 0.05886790631157129,
          "pct_positive": 0.7538203503540812,
          "pct_negative": 0.24617964964591874
        },
        "trained_at": "2025-12-19T20:19:48.868999"
      },
      "model_path": "saved_models/KO/gbm/lgb_reg.joblib",
      "scaler_path": "saved_models/KO/gbm/lgb_scaler.joblib"
    }
  }
}