{
  "symbol": "SPY",
  "data_metadata": {
    "symbol": "SPY",
    "n_samples": 8278,
    "n_features": 147,
    "target_col": "target_1d",
    "target_stats": {
      "mean": 0.0003977756371613449,
      "std": 0.011671861029652494,
      "min": -0.1,
      "max": 0.1,
      "pct_positive": 0.5409519207538053,
      "pct_negative": 0.4515583474269147
    },
    "leakage_check": {
      "is_valid": true,
      "flagged_features": [],
      "sentiment_features": [
        "sentiment_mean",
        "sentiment_std",
        "sentiment_min",
        "sentiment_max",
        "sentiment_sma_5",
        "sentiment_sma_20",
        "sentiment_momentum",
        "sentiment_acceleration",
        "sentiment_volatility",
        "sentiment_rsi",
        "price_up_sentiment_down",
        "price_down_sentiment_up",
        "volume_surge_sentiment",
        "sentiment_z_score"
      ],
      "total_features": 147
    },
    "date_range": {
      "start": "1993-02-01 00:00:00",
      "end": "2025-12-17 00:00:00"
    },
    "prepared_at": "2025-12-18T22:48:10.258774"
  },
  "models": {
    "xgb": {
      "cv_results": {
        "model_class": "xgb",
        "n_splits": 5,
        "fold_metrics": [
          {
            "fold": 1,
            "train_size": 7977,
            "val_size": 60,
            "mse": 6.207388769204846e-05,
            "rmse": 0.007878698350111422,
            "mae": 0.0054848568143124315,
            "r2": 0.01771371681031675,
            "dir_acc": 0.6333333333333333,
            "ic": 0.3017438774170942,
            "pred_std": 0.000260911911027506
          },
          {
            "fold": 2,
            "train_size": 8037,
            "val_size": 60,
            "mse": 0.00011063221620705772,
            "rmse": 0.010518185024378384,
            "mae": 0.008245163953979572,
            "r2": -0.07449491218592841,
            "dir_acc": 0.55,
            "ic": 0.08189971221507486,
            "pred_std": 0.002420237520709634
          },
          {
            "fold": 3,
            "train_size": 8097,
            "val_size": 60,
            "mse": 0.0004873483906476805,
            "rmse": 0.022075968623090598,
            "mae": 0.01325495125479905,
            "r2": -0.19352331010473067,
            "dir_acc": 0.4,
            "ic": -0.08451694561291129,
            "pred_std": 0.006323514971882105
          },
          {
            "fold": 4,
            "train_size": 8157,
            "val_size": 60,
            "mse": 3.719690105503145e-05,
            "rmse": 0.006098926221477962,
            "mae": 0.004822709460845675,
            "r2": -0.21046358968929435,
            "dir_acc": 0.5166666666666667,
            "ic": -0.0456275329656591,
            "pred_std": 0.0015858897240832448
          },
          {
            "fold": 5,
            "train_size": 8217,
            "val_size": 60,
            "mse": 6.213310931604846e-05,
            "rmse": 0.007882455792203877,
            "mae": 0.005901873899198247,
            "r2": 0.028522732210981228,
            "dir_acc": 0.55,
            "ic": 0.18448676152099833,
            "pred_std": 0.002063329564407468
          }
        ],
        "aggregate_metrics": {
          "mse_mean": 0.00015187690098357332,
          "mse_std": 0.00018941507075895622,
          "rmse_mean": 0.010890846802252448,
          "rmse_std": 0.00644848401888391,
          "mae_mean": 0.007541911076626995,
          "mae_std": 0.003444148817038674,
          "r2_mean": -0.0864490725917311,
          "r2_std": 0.11297764971062647,
          "dir_acc_mean": 0.53,
          "dir_acc_std": 0.08449194570424383,
          "ic_mean": 0.0875971745149194,
          "ic_std": 0.16019593982167746
        },
        "oof_predictions": "[            nan             nan             nan ... -3.44397587e-04\n  2.12280356e-05  1.21215777e-03]",
        "oof_indices": "[-1 -1 -1 ...  4  4  4]",
        "feature_importance": {
          "in_consolidation_zone": 0.018225345760583878,
          "macd_high_vol": 0.017674846574664116,
          "iv_regime_overpriced": 0.017605219036340714,
          "macd_low_vol": 0.013961280696094036,
          "gap_down": 0.012356443330645561,
          "momentum_20d": 0.012023495510220528,
          "distance_to_fib_382": 0.011996406130492687,
          "sma_20": 0.011995512060821056,
          "vw_momentum_20d": 0.011865902692079544,
          "momentum_divergence_20d": 0.011781536974012852,
          "ema_12_26_cross": 0.011706789024174213,
          "vwap_deviation": 0.01149281021207571,
          "rate_of_change_10d": 0.011484615504741669,
          "rsi_high_vol": 0.011447055265307426,
          "vix": 0.011438158340752125,
          "volume_velocity": 0.011435281485319138,
          "higher_high": 0.011216120794415474,
          "realized_vol_20d": 0.011215915903449059,
          "upper_shadow": 0.011088689789175987,
          "ema_26": 0.010954795405268669,
          "volume_price_trend": 0.010923357680439949,
          "volatility_5d": 0.010905982926487923,
          "rsi_divergence_3_14_z": 0.01087147556245327,
          "sma_50": 0.010641158558428288,
          "vwap_crossover": 0.01061282865703106,
          "atr_percent": 0.010534191504120827,
          "bb_upper": 0.010396622121334076,
          "sma_10": 0.01028393767774105,
          "bb_lower": 0.010281702503561974,
          "velocity_20d": 0.01007605530321598,
          "return_lag_1": 0.010074993595480919,
          "price_to_sma50": 0.010070934891700745,
          "rsi_divergence_7_28_z": 0.009988075122237206,
          "body_size": 0.009950509294867516,
          "velocity_5d": 0.009846188127994537,
          "momentum_divergence_5d": 0.009773273952305317,
          "returns": 0.009768902324140072,
          "bb_position": 0.009751362726092339,
          "acceleration_5d": 0.009736297652125359,
          "lower_shadow": 0.009729286655783653,
          "price_to_sma20": 0.009711315855383873,
          "return_lag_2": 0.009709022007882595,
          "close_position": 0.009707031771540642,
          "accumulation_distribution": 0.009697353467345238,
          "atr": 0.009675507433712482,
          "volatility_20d": 0.009655864909291267,
          "rsi_velocity": 0.00960425566881895,
          "vw_momentum_5d": 0.00949513353407383,
          "stoch_k": 0.009438780136406422,
          "velocity_10d": 0.009388874284923077,
          "return_lag_5": 0.009373156353831291,
          "macd_signal": 0.009367892518639565,
          "log_returns": 0.009345842525362968,
          "macd_histogram": 0.009316833689808846,
          "obv": 0.009261040017008781,
          "rsi_28": 0.009258316829800606,
          "bb_width": 0.009203637950122356,
          "vwap_volume_ratio": 0.009078266099095345,
          "vol_ratio_5_20": 0.008995844051241875,
          "distance_to_nearest_resistance": 0.008978527970612049,
          "distance_to_fib_500": 0.008964823558926582,
          "rsi_divergence_7_28": 0.00887997541576624,
          "momentum_1d": 0.008833399042487144,
          "rsi_divergence_5d": 0.008816143497824669,
          "obv_ema": 0.008781892247498035,
          "vpi": 0.008717462420463562,
          "high_low_range": 0.008672716096043587,
          "vwap_band_position": 0.008662668988108635,
          "macd": 0.008661249652504921,
          "distribution_signal": 0.008637910708785057,
          "volume_sma": 0.00861702673137188,
          "days_since_resistance_break": 0.008615822531282902,
          "iv_regime_fair": 0.008563037030398846,
          "distance_to_fib_618": 0.008541674353182316,
          "rsi_7": 0.008530378341674805,
          "volume_ratio": 0.008523151278495789,
          "sma_10_20_cross": 0.008498059585690498,
          "stoch_d": 0.008449139073491096,
          "gap_up": 0.008424555882811546,
          "rsi_14": 0.008415956050157547,
          "rsi_3": 0.00841078907251358,
          "rsi_divergence_3_14": 0.008340669795870781,
          "rv_iv_spread": 0.008328470401465893,
          "ema_12": 0.008236189372837543,
          "rv_iv_spread_zscore": 0.008157926611602306,
          "rsi_momentum": 0.00798224750906229,
          "vwap_crossunder": 0.007937169633805752,
          "vpi_short": 0.007926126942038536,
          "resistance_strength": 0.00765610346570611,
          "days_since_support_break": 0.007418627385050058,
          "momentum_5d": 0.007270742207765579,
          "rsi": 0.0071698809042572975,
          "rsi_divergence_10d": 0.006753592751920223,
          "lower_low": 0.006652511656284332,
          "distance_to_nearest_support": 0.006607860326766968,
          "rsi_divergence_20d": 0.006572352256625891,
          "rsi_low_vol": 0.006548093166202307,
          "support_strength": 0.006490158848464489,
          "rsi_cross_30": 0.006018191576004028,
          "bb_position_low_vol": 0.00599617650732398,
          "accumulation_signal": 0.0057134078815579414,
          "iv_regime_underpriced": 0.005478414706885815,
          "regime_low_vol": 0.005145831499248743,
          "bb_squeeze": 0.004883552435785532,
          "volume_surge": 0.00485826563090086,
          "volatility_regime_normal": 0.0033111267257481813,
          "regime_high_vol": 0.002772973384708166,
          "rsi_cross_70": 0.002212945371866226,
          "large_volume_day": 0.0006077206344343722,
          "above_vwap": 0.0002889593015424907,
          "broke_resistance": 0.0,
          "broke_support": 0.0,
          "bullish_regime": 0.0,
          "bearish_regime": 0.0,
          "low_volume_day": 0.0,
          "price_up_sentiment_down": 0.0,
          "regime_strength": 0.0,
          "nsis": 0.0,
          "nsis_fast": 0.0,
          "nsis_slow": 0.0,
          "news_velocity": 0.0,
          "neutral_regime": 0.0,
          "negative_ratio": 0.0,
          "news_volume_normalized": 0.0,
          "news_volume": 0.0,
          "positive_ratio": 0.0,
          "price_down_sentiment_up": 0.0,
          "nsis_normalized": 0.0,
          "high_volume_negative": 0.0,
          "high_volume_positive": 0.0,
          "sentiment_acceleration": 0.0,
          "sentiment_sma_5": 0.0,
          "sentiment_std": 0.0,
          "sentiment_volatility": 0.0,
          "sentiment_z_score": 0.0,
          "sentiment_min": 0.0,
          "sentiment_momentum": 0.0,
          "sentiment_rsi": 0.0,
          "sentiment_sma_20": 0.0,
          "sentiment_mean": 0.0,
          "sentiment_max": 0.0,
          "surge_negative": 0.0,
          "surge_positive": 0.0,
          "strong_bullish_divergence": 0.0,
          "strong_bearish_divergence": 0.0,
          "volume_surge_sentiment": 0.0,
          "volume_surge_with_price": 0.0
        },
        "top_features": [
          "in_consolidation_zone",
          "macd_high_vol",
          "iv_regime_overpriced",
          "macd_low_vol",
          "gap_down",
          "momentum_20d",
          "distance_to_fib_382",
          "sma_20",
          "vw_momentum_20d",
          "momentum_divergence_20d",
          "ema_12_26_cross",
          "vwap_deviation",
          "rate_of_change_10d",
          "rsi_high_vol",
          "vix",
          "volume_velocity",
          "higher_high",
          "realized_vol_20d",
          "upper_shadow",
          "ema_26"
        ],
        "training_curves": [
          "logs/xgb_training_curve_SPY_fold1.png",
          "logs/xgb_training_curve_SPY_fold2.png",
          "logs/xgb_training_curve_SPY_fold3.png",
          "logs/xgb_training_curve_SPY_fold4.png",
          "logs/xgb_training_curve_SPY_fold5.png"
        ],
        "collapsed_folds": 1
      },
      "final_metadata": {
        "model_class": "xgb",
        "n_samples": 8278,
        "n_features": 147,
        "best_iteration": 0,
        "training_curve_path": "logs/xgb_training_curve_SPY_final.png",
        "ic": 0.20539071039273507,
        "direction_acc": 0.5459048079246195,
        "prediction_stats": {
          "mean": 0.00034976439201273024,
          "std": 0.000125305843539536,
          "min": -0.0012215205933898687,
          "max": 0.002055812394246459,
          "pct_positive": 0.9892486107755496,
          "pct_negative": 0.01075138922445035
        },
        "trained_at": "2025-12-18T22:48:25.147977"
      },
      "model_path": "saved_models/SPY/gbm/xgb_reg.joblib",
      "scaler_path": "saved_models/SPY/gbm/xgb_scaler.joblib"
    },
    "lgb": {
      "cv_results": {
        "model_class": "lgb",
        "n_splits": 5,
        "fold_metrics": [
          {
            "fold": 1,
            "train_size": 7977,
            "val_size": 60,
            "mse": 6.223328277211135e-05,
            "rmse": 0.007888807436622557,
            "mae": 0.005500368933087176,
            "r2": 0.01519137437978535,
            "dir_acc": 0.5833333333333334,
            "ic": 0.16658168430084364,
            "pred_std": 0.00046993715971007304
          },
          {
            "fold": 2,
            "train_size": 8037,
            "val_size": 60,
            "mse": 0.00011756674164209441,
            "rmse": 0.010842819819682258,
            "mae": 0.008563147271393018,
            "r2": -0.14184520628494046,
            "dir_acc": 0.5166666666666667,
            "ic": -0.0014971837956440073,
            "pred_std": 0.002866186360528956
          },
          {
            "fold": 3,
            "train_size": 8097,
            "val_size": 60,
            "mse": 0.00048730228856282387,
            "rmse": 0.02207492442937968,
            "mae": 0.014125300070896367,
            "r2": -0.19341040542713928,
            "dir_acc": 0.45,
            "ic": 0.018419206637855214,
            "pred_std": 0.007271762598862574
          },
          {
            "fold": 4,
            "train_size": 8157,
            "val_size": 60,
            "mse": 3.7950242535280326e-05,
            "rmse": 0.006160376817637077,
            "mae": 0.0049934748938893474,
            "r2": -0.23497886936527568,
            "dir_acc": 0.4,
            "ic": -0.054483316179463864,
            "pred_std": 0.0017324602850209705
          },
          {
            "fold": 5,
            "train_size": 8217,
            "val_size": 60,
            "mse": 6.245505420501198e-05,
            "rmse": 0.007902851017513361,
            "mae": 0.00587229676355641,
            "r2": 0.023488988615147144,
            "dir_acc": 0.5,
            "ic": 0.19173873100597602,
            "pred_std": 0.0022113095568522608
          }
        ],
        "aggregate_metrics": {
          "mse_mean": 0.0001535015219434644,
          "mse_std": 0.00018886880974166724,
          "rmse_mean": 0.010973955904166987,
          "rmse_std": 0.006429795268597487,
          "mae_mean": 0.007810917586564464,
          "mae_std": 0.0037905192506821985,
          "r2_mean": -0.10631082361648458,
          "r2_std": 0.1193893534546986,
          "dir_acc_mean": 0.49000000000000005,
          "dir_acc_std": 0.06932211447695141,
          "ic_mean": 0.0641518243939134,
          "ic_std": 0.10868055957868894
        },
        "oof_predictions": "[        nan         nan         nan ... -0.00026057  0.000461\n  0.00244991]",
        "oof_indices": "[-1 -1 -1 ...  4  4  4]",
        "feature_importance": {
          "return_lag_2": 529.2,
          "return_lag_5": 505.0,
          "upper_shadow": 497.8,
          "lower_shadow": 483.0,
          "return_lag_1": 478.2,
          "vix": 424.2,
          "obv_ema": 418.6,
          "body_size": 394.4,
          "acceleration_5d": 381.6,
          "rv_iv_spread_zscore": 353.6,
          "obv": 339.2,
          "volume_velocity": 335.0,
          "vol_ratio_5_20": 333.8,
          "volatility_5d": 318.6,
          "vpi": 315.0,
          "velocity_10d": 308.4,
          "gap_down": 301.6,
          "close_position": 298.2,
          "stoch_d": 297.2,
          "sma_10_20_cross": 287.0,
          "vpi_short": 284.6,
          "returns": 283.4,
          "rv_iv_spread": 272.6,
          "high_low_range": 271.4,
          "atr_percent": 252.6,
          "vw_momentum_5d": 247.8,
          "distance_to_nearest_resistance": 242.6,
          "atr": 241.8,
          "gap_up": 241.4,
          "sma_10": 237.0,
          "macd_signal": 235.4,
          "volume_sma": 232.6,
          "volume_price_trend": 229.2,
          "volume_ratio": 227.8,
          "rsi_divergence_7_28_z": 226.0,
          "macd_histogram": 225.6,
          "bb_lower": 222.8,
          "bb_width": 217.4,
          "velocity_5d": 209.2,
          "days_since_support_break": 207.2,
          "vw_momentum_20d": 201.6,
          "rsi_28": 201.2,
          "velocity_20d": 197.4,
          "stoch_k": 196.8,
          "distance_to_nearest_support": 195.4,
          "accumulation_distribution": 193.2,
          "momentum_divergence_20d": 191.6,
          "rsi_divergence_3_14": 191.2,
          "rsi_divergence_3_14_z": 190.6,
          "rsi_3": 188.0,
          "volatility_20d": 185.4,
          "bb_upper": 184.8,
          "ema_12_26_cross": 178.4,
          "momentum_divergence_5d": 177.6,
          "sma_50": 174.6,
          "ema_26": 166.4,
          "rsi_velocity": 165.2,
          "resistance_strength": 165.0,
          "rsi_divergence_20d": 165.0,
          "distance_to_fib_618": 151.8,
          "macd": 150.4,
          "rsi_divergence_10d": 147.2,
          "distance_to_fib_382": 138.8,
          "rsi_divergence_5d": 138.2,
          "distance_to_fib_500": 136.0,
          "rsi_7": 123.8,
          "vwap_band_position": 118.2,
          "sma_20": 118.0,
          "rsi_divergence_7_28": 117.2,
          "rsi": 116.4,
          "support_strength": 115.2,
          "realized_vol_20d": 113.2,
          "vwap_deviation": 112.8,
          "ema_12": 112.6,
          "bb_position": 111.0,
          "price_to_sma50": 104.0,
          "macd_high_vol": 91.8,
          "price_to_sma20": 62.0,
          "rsi_14": 57.2,
          "log_returns": 55.0,
          "rsi_high_vol": 52.8,
          "rate_of_change_10d": 50.8,
          "days_since_resistance_break": 43.6,
          "vwap_volume_ratio": 42.2,
          "momentum_5d": 41.4,
          "momentum_20d": 40.0,
          "rsi_momentum": 32.4,
          "rsi_cross_30": 22.6,
          "higher_high": 20.4,
          "in_consolidation_zone": 17.6,
          "vwap_crossunder": 17.2,
          "rsi_cross_70": 15.0,
          "iv_regime_fair": 14.6,
          "macd_low_vol": 11.0,
          "momentum_1d": 10.2,
          "lower_low": 9.0,
          "rsi_low_vol": 9.0,
          "distribution_signal": 6.0,
          "accumulation_signal": 5.4,
          "bb_squeeze": 5.0,
          "vwap_crossover": 4.8,
          "regime_low_vol": 4.6,
          "volatility_regime_normal": 1.6,
          "bb_position_low_vol": 1.6,
          "volume_surge": 0.6,
          "iv_regime_underpriced": 0.6,
          "iv_regime_overpriced": 0.4,
          "large_volume_day": 0.4,
          "above_vwap": 0.2,
          "bearish_regime": 0.0,
          "broke_resistance": 0.0,
          "broke_support": 0.0,
          "bullish_regime": 0.0,
          "high_volume_negative": 0.0,
          "low_volume_day": 0.0,
          "regime_high_vol": 0.0,
          "price_up_sentiment_down": 0.0,
          "regime_strength": 0.0,
          "nsis_fast": 0.0,
          "nsis_slow": 0.0,
          "news_velocity": 0.0,
          "neutral_regime": 0.0,
          "negative_ratio": 0.0,
          "news_volume_normalized": 0.0,
          "news_volume": 0.0,
          "nsis": 0.0,
          "price_down_sentiment_up": 0.0,
          "positive_ratio": 0.0,
          "nsis_normalized": 0.0,
          "high_volume_positive": 0.0,
          "sentiment_acceleration": 0.0,
          "sentiment_sma_5": 0.0,
          "sentiment_std": 0.0,
          "sentiment_volatility": 0.0,
          "sentiment_z_score": 0.0,
          "sentiment_min": 0.0,
          "sentiment_momentum": 0.0,
          "sentiment_rsi": 0.0,
          "sentiment_sma_20": 0.0,
          "sentiment_mean": 0.0,
          "sentiment_max": 0.0,
          "surge_negative": 0.0,
          "surge_positive": 0.0,
          "strong_bullish_divergence": 0.0,
          "strong_bearish_divergence": 0.0,
          "volume_surge_sentiment": 0.0,
          "volume_surge_with_price": 0.0
        },
        "top_features": [
          "return_lag_2",
          "return_lag_5",
          "upper_shadow",
          "lower_shadow",
          "return_lag_1",
          "vix",
          "obv_ema",
          "body_size",
          "acceleration_5d",
          "rv_iv_spread_zscore",
          "obv",
          "volume_velocity",
          "vol_ratio_5_20",
          "volatility_5d",
          "vpi",
          "velocity_10d",
          "gap_down",
          "close_position",
          "stoch_d",
          "sma_10_20_cross"
        ],
        "training_curves": [
          "logs/lgb_training_curve_SPY_fold1.png",
          "logs/lgb_training_curve_SPY_fold2.png",
          "logs/lgb_training_curve_SPY_fold3.png",
          "logs/lgb_training_curve_SPY_fold4.png",
          "logs/lgb_training_curve_SPY_fold5.png"
        ],
        "collapsed_folds": 1
      },
      "final_metadata": {
        "model_class": "lgb",
        "n_samples": 8278,
        "n_features": 147,
        "best_iteration": 200,
        "training_curve_path": "logs/lgb_training_curve_SPY_final.png",
        "ic": 0.6681046312031342,
        "direction_acc": 0.6339695578642184,
        "prediction_stats": {
          "mean": 0.0003975533193672724,
          "std": 0.0034921918463982743,
          "min": -0.04726131263371464,
          "max": 0.05260985384886723,
          "pct_positive": 0.7824353708625272,
          "pct_negative": 0.21756462913747282
        },
        "trained_at": "2025-12-18T22:48:42.369263"
      },
      "model_path": "saved_models/SPY/gbm/lgb_reg.joblib",
      "scaler_path": "saved_models/SPY/gbm/lgb_scaler.joblib"
    }
  }
}