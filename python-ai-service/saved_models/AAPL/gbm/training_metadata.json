{
  "symbol": "AAPL",
  "data_metadata": {
    "symbol": "AAPL",
    "n_samples": 11350,
    "n_features": 154,
    "target_col": "target_1d",
    "target_stats": {
      "mean": 0.0007953707915234364,
      "std": 0.025889661855990453,
      "min": -0.1,
      "max": 0.1,
      "pct_positive": 0.49982378854625553,
      "pct_negative": 0.46748898678414097
    },
    "leakage_check": {
      "is_valid": true,
      "flagged_features": [],
      "sentiment_features": [
        "sentiment_mean",
        "sentiment_std",
        "sentiment_min",
        "sentiment_max",
        "sentiment_sma_5",
        "sentiment_sma_20",
        "sentiment_momentum",
        "sentiment_acceleration",
        "sentiment_volatility",
        "sentiment_rsi",
        "price_up_sentiment_down",
        "price_down_sentiment_up",
        "volume_surge_sentiment",
        "sentiment_z_score"
      ],
      "total_features": 154
    },
    "date_range": {
      "start": "1980-12-15 00:00:00",
      "end": "2025-12-24 00:00:00"
    },
    "prepared_at": "2025-12-29T12:28:37.331910"
  },
  "models": {
    "xgb": {
      "cv_results": {
        "model_class": "xgb",
        "n_splits": 5,
        "fold_metrics": [
          {
            "fold": 1,
            "train_size": 11049,
            "val_size": 60,
            "mse": 0.00011845853455364432,
            "rmse": 0.01088386579086881,
            "mae": 0.008517866349113465,
            "r2": -0.002985614466487929,
            "dir_acc": 0.5833333333333334,
            "ic": -0.07465760190032514,
            "pred_std": 0.00012501499440986663
          },
          {
            "fold": 2,
            "train_size": 11109,
            "val_size": 60,
            "mse": 0.0008233686275566799,
            "rmse": 0.02869440063072724,
            "mae": 0.019427025251209727,
            "r2": -0.05233684559371987,
            "dir_acc": 0.5166666666666667,
            "ic": -0.015586647100922838,
            "pred_std": 0.004342366941273212
          },
          {
            "fold": 3,
            "train_size": 11169,
            "val_size": 60,
            "mse": 0.0003946321650954119,
            "rmse": 0.01986535086766433,
            "mae": 0.014573400392224347,
            "r2": -0.1487183664211058,
            "dir_acc": 0.43333333333333335,
            "ic": -0.01606851976689654,
            "pred_std": 0.005949963815510273
          },
          {
            "fold": 4,
            "train_size": 11229,
            "val_size": 60,
            "mse": 0.00025184636433081586,
            "rmse": 0.015869668059881274,
            "mae": 0.011133034624173165,
            "r2": -0.073173681252092,
            "dir_acc": 0.45,
            "ic": -0.031105307837017274,
            "pred_std": 0.0021112922113388777
          },
          {
            "fold": 5,
            "train_size": 11289,
            "val_size": 60,
            "mse": 0.00015443588531955746,
            "rmse": 0.012427223556352299,
            "mae": 0.008883351583980703,
            "r2": -0.239000054418528,
            "dir_acc": 0.45,
            "ic": -0.16900266797415248,
            "pred_std": 0.002871233271434903
          }
        ],
        "aggregate_metrics": {
          "mse_mean": 0.0003485483153712219,
          "mse_std": 0.0002861600339589553,
          "rmse_mean": 0.01754810178109879,
          "rmse_std": 0.007124994671175143,
          "mae_mean": 0.012506935640140281,
          "mae_std": 0.00455764621321082,
          "r2_mean": -0.10324291243038672,
          "r2_std": 0.09225661306365153,
          "dir_acc_mean": 0.4866666666666667,
          "dir_acc_std": 0.06280481227138925,
          "ic_mean": -0.06128414891586285,
          "ic_std": 0.06485677650246782
        },
        "oof_predictions": "[        nan         nan         nan ... -0.01378499 -0.00272894\n  0.00157332]",
        "oof_indices": "[-1 -1 -1 ...  4  4  4]",
        "feature_importance": {
          "volume_surge": 0.020415958017110825,
          "regime_low_vol": 0.016032394021749496,
          "rsi_cross_30": 0.014514816924929619,
          "rsi_14": 0.013272419571876526,
          "macd_low_vol": 0.012167299166321754,
          "rsi_high_vol": 0.011990672908723354,
          "macd_high_vol": 0.011340470053255558,
          "vwap_deviation": 0.011186458170413971,
          "volume_surge_with_price": 0.011077223345637321,
          "latest_high_pivot": 0.010569140315055847,
          "latest_low_pivot": 0.0105376485735178,
          "distance_to_fib_618": 0.01050050649791956,
          "vap_poc_price": 0.010499526746571064,
          "bb_position_low_vol": 0.010307172313332558,
          "support_strength": 0.010236677713692188,
          "distance_to_fib_500": 0.010202419944107533,
          "momentum_5d": 0.010191047564148903,
          "realized_vol_20d": 0.010123075917363167,
          "vwap_crossunder": 0.010040156543254852,
          "rsi_divergence_20d": 0.010019352659583092,
          "vwap_volume_ratio": 0.010007170028984547,
          "rate_of_change_10d": 0.0099722221493721,
          "distance_to_fib_382": 0.009954167529940605,
          "vw_momentum_5d": 0.009894201532006264,
          "vpi_short": 0.009830387309193611,
          "rsi_momentum": 0.009723455645143986,
          "momentum_divergence_20d": 0.009709577076137066,
          "rsi_28": 0.009688963182270527,
          "rsi_divergence_5d": 0.009665172547101974,
          "dist_to_high_pivot": 0.009650985710322857,
          "distribution_signal": 0.009597349911928177,
          "vw_momentum_20d": 0.00957255344837904,
          "rsi_low_vol": 0.009553885087370872,
          "distance_to_nearest_resistance": 0.009517335332930088,
          "dist_to_vap_poc": 0.009461682289838791,
          "volume_concentration_score": 0.009441749192774296,
          "rsi_divergence_10d": 0.009391353465616703,
          "vpi": 0.009386775083839893,
          "high_low_range": 0.009370120242238045,
          "momentum_divergence_5d": 0.009345868602395058,
          "return_lag_2": 0.009284825064241886,
          "accumulation_distribution": 0.009226041845977306,
          "rsi_divergence_3_14_z": 0.009215177036821842,
          "rsi_7": 0.009179871529340744,
          "dist_to_low_pivot": 0.009129433892667294,
          "rsi_3": 0.009076115675270557,
          "ema_12_26_cross": 0.009032776579260826,
          "velocity_10d": 0.009013654664158821,
          "return_lag_1": 0.009009817615151405,
          "rsi_divergence_7_28_z": 0.008976304903626442,
          "bb_squeeze": 0.008962730877101421,
          "velocity_5d": 0.008956301026046276,
          "momentum_20d": 0.008955876342952251,
          "vwap_band_position": 0.008945525623857975,
          "volume_ratio": 0.008940315805375576,
          "ema_26": 0.008867217227816582,
          "hvn_proximity": 0.008862325921654701,
          "rsi_divergence_3_14": 0.008861544542014599,
          "atr_percent": 0.008860304951667786,
          "return_lag_5": 0.008828362450003624,
          "volume_price_trend": 0.008821689523756504,
          "upper_shadow": 0.008610417135059834,
          "rsi_divergence_7_28": 0.00857497937977314,
          "price_to_sma50": 0.008525076322257519,
          "obv_ema": 0.008513730019330978,
          "lower_shadow": 0.008455434814095497,
          "close_position": 0.00841723196208477,
          "vol_ratio_5_20": 0.008395008742809296,
          "rsi_velocity": 0.008379269391298294,
          "gap_down": 0.008368002250790596,
          "vwap_crossover": 0.008361821994185448,
          "resistance_strength": 0.00834217481315136,
          "price_to_sma20": 0.00828995555639267,
          "regime_high_vol": 0.008261698298156261,
          "bb_width": 0.008204041048884392,
          "acceleration_5d": 0.008144492283463478,
          "vix": 0.008128786459565163,
          "rv_iv_spread": 0.008077074773609638,
          "volume_velocity": 0.008069174364209175,
          "bb_position": 0.00806430447846651,
          "near_resistance_zone": 0.008016569539904594,
          "body_size": 0.007935448549687862,
          "distance_to_nearest_support": 0.007912020199000835,
          "rv_iv_spread_zscore": 0.00783228687942028,
          "velocity_20d": 0.007776352576911449,
          "in_consolidation_zone": 0.0077756242826581,
          "ema_12": 0.007711851503700018,
          "obv": 0.007708338089287281,
          "atr": 0.007703015115112066,
          "gap_up": 0.007605200167745352,
          "near_support_zone": 0.007525814231485128,
          "rsi_cross_70": 0.007446779869496822,
          "accumulation_signal": 0.007382117211818695,
          "sma_50": 0.00721766659989953,
          "bb_lower": 0.007089791353791952,
          "volume_sma": 0.007072261068969965,
          "bb_upper": 0.006948250345885754,
          "sma_10_20_cross": 0.0066893501207232475,
          "iv_regime_fair": 0.006632797420024872,
          "lower_low": 0.006621940992772579,
          "sma_20": 0.00629299646243453,
          "volatility_regime_normal": 0.0061360253021121025,
          "higher_high": 0.006123979575932026,
          "stoch_d": 0.0060694399289786816,
          "iv_regime_underpriced": 0.005873312707990408,
          "sma_10": 0.005816098768264055,
          "macd_signal": 0.005302125588059425,
          "above_vwap": 0.00522442813962698,
          "iv_regime_overpriced": 0.004896901082247496,
          "stoch_k": 0.004890799056738615,
          "macd_histogram": 0.004832185804843903,
          "large_volume_day": 0.0039693741127848625,
          "macd": 0.003695595543831587,
          "volatility_20d": 0.0027587777003645897,
          "rsi": 0.00261925277300179,
          "volatility_5d": 0.0017469378653913736,
          "days_since_support_break": 0.0,
          "days_since_resistance_break": 0.0,
          "bearish_regime": 0.0,
          "broke_resistance": 0.0,
          "broke_support": 0.0,
          "bullish_regime": 0.0,
          "price_up_sentiment_down": 0.0,
          "regime_strength": 0.0,
          "news_volume": 0.0,
          "nsis_fast": 0.0,
          "nsis_slow": 0.0,
          "news_velocity": 0.0,
          "negative_ratio": 0.0,
          "neutral_regime": 0.0,
          "nsis": 0.0,
          "news_volume_normalized": 0.0,
          "positive_ratio": 0.0,
          "price_down_sentiment_up": 0.0,
          "nsis_normalized": 0.0,
          "high_volume_positive": 0.0,
          "high_volume_negative": 0.0,
          "low_volume_day": 0.0,
          "sentiment_z_score": 0.0,
          "sentiment_volatility": 0.0,
          "sentiment_min": 0.0,
          "sentiment_momentum": 0.0,
          "sentiment_rsi": 0.0,
          "sentiment_sma_20": 0.0,
          "sentiment_sma_5": 0.0,
          "sentiment_std": 0.0,
          "sentiment_mean": 0.0,
          "sentiment_max": 0.0,
          "sentiment_acceleration": 0.0,
          "surge_positive": 0.0,
          "surge_negative": 0.0,
          "strong_bullish_divergence": 0.0,
          "strong_bearish_divergence": 0.0,
          "volume_surge_sentiment": 0.0
        },
        "top_features": [
          "volume_surge",
          "regime_low_vol",
          "rsi_cross_30",
          "rsi_14",
          "macd_low_vol",
          "rsi_high_vol",
          "macd_high_vol",
          "vwap_deviation",
          "volume_surge_with_price",
          "latest_high_pivot",
          "latest_low_pivot",
          "distance_to_fib_618",
          "vap_poc_price",
          "bb_position_low_vol",
          "support_strength",
          "distance_to_fib_500",
          "momentum_5d",
          "realized_vol_20d",
          "vwap_crossunder",
          "rsi_divergence_20d"
        ],
        "training_curves": [
          "logs/xgb_training_curve_AAPL_fold1.png",
          "logs/xgb_training_curve_AAPL_fold2.png",
          "logs/xgb_training_curve_AAPL_fold3.png",
          "logs/xgb_training_curve_AAPL_fold4.png",
          "logs/xgb_training_curve_AAPL_fold5.png"
        ],
        "collapsed_folds": 1
      },
      "final_metadata": {
        "model_class": "xgb",
        "n_samples": 11350,
        "n_features": 154,
        "best_iteration": 500,
        "training_curve_path": "logs/xgb_training_curve_AAPL_final.png",
        "test_ic": 0.004742253296499425,
        "test_direction_acc": 0.46299559471365637,
        "val_ic": -0.010167125826777373,
        "val_direction_acc": 0.4845814977973568,
        "wfe": 0.0,
        "ic": 0.004742253296499425,
        "direction_acc": 0.46299559471365637,
        "prediction_stats": {
          "mean": -0.009535692632198334,
          "std": 0.005820444319397211,
          "min": -0.029251396656036377,
          "max": 0.02177521213889122,
          "pct_positive": 0.06607929515418502,
          "pct_negative": 0.933920704845815
        },
        "train_samples": 6810,
        "val_samples": 2270,
        "test_samples": 2270,
        "train_on_full_data": false,
        "trained_at": "2025-12-29T12:29:55.167109"
      },
      "model_path": "saved_models/AAPL/gbm/xgb_reg.joblib",
      "scaler_path": "saved_models/AAPL/gbm/xgb_scaler.joblib"
    },
    "lgb": {
      "cv_results": {
        "model_class": "lgb",
        "n_splits": 5,
        "fold_metrics": [
          {
            "fold": 1,
            "train_size": 11049,
            "val_size": 60,
            "mse": 0.00011805955903458794,
            "rmse": 0.010865521572137618,
            "mae": 0.008527456041613505,
            "r2": 0.00039250183087879975,
            "dir_acc": 0.5666666666666667,
            "ic": 0.09738540064864722,
            "pred_std": 3.660938736250591e-05
          },
          {
            "fold": 2,
            "train_size": 11109,
            "val_size": 60,
            "mse": 0.0008351690724895105,
            "rmse": 0.02889929190290846,
            "mae": 0.019630612986338277,
            "r2": -0.06741884238301643,
            "dir_acc": 0.5333333333333333,
            "ic": -0.08942836100297791,
            "pred_std": 0.003987423347858219
          },
          {
            "fold": 3,
            "train_size": 11169,
            "val_size": 60,
            "mse": 0.0004116594304347034,
            "rmse": 0.02028939206666142,
            "mae": 0.015134930894029593,
            "r2": -0.19828232535598045,
            "dir_acc": 0.4666666666666667,
            "ic": 0.01762005570804364,
            "pred_std": 0.006666882240839422
          },
          {
            "fold": 4,
            "train_size": 11229,
            "val_size": 60,
            "mse": 0.00025512711934524296,
            "rmse": 0.015972699187840576,
            "mae": 0.010962773614563732,
            "r2": -0.08715371207554323,
            "dir_acc": 0.5166666666666667,
            "ic": -0.07822880617650971,
            "pred_std": 0.002372986712273544
          },
          {
            "fold": 5,
            "train_size": 11289,
            "val_size": 60,
            "mse": 0.00022153490217115078,
            "rmse": 0.014884048581321911,
            "mae": 0.011688862449534716,
            "r2": -0.7773184987265342,
            "dir_acc": 0.45,
            "ic": 0.0897116191734667,
            "pred_std": 0.0044541708108411055
          }
        ],
        "aggregate_metrics": {
          "mse_mean": 0.00036831001669503907,
          "mse_std": 0.0002814316718602129,
          "rmse_mean": 0.018182190662173997,
          "rmse_std": 0.006866400022882426,
          "mae_mean": 0.013188927197215965,
          "mae_std": 0.0043074793542481945,
          "r2_mean": -0.2259561753420391,
          "r2_std": 0.3163859142840971,
          "dir_acc_mean": 0.5066666666666667,
          "dir_acc_std": 0.04801620096962644,
          "ic_mean": 0.00741198167013399,
          "ic_std": 0.08900147153764659
        },
        "oof_predictions": "[        nan         nan         nan ... -0.01944714 -0.00889266\n -0.01141589]",
        "oof_indices": "[-1 -1 -1 ...  4  4  4]",
        "feature_importance": {
          "return_lag_2": 2333.4,
          "return_lag_5": 2151.6,
          "return_lag_1": 2009.6,
          "upper_shadow": 1904.0,
          "volume_velocity": 1881.8,
          "lower_shadow": 1786.4,
          "vol_ratio_5_20": 1633.0,
          "body_size": 1590.2,
          "rv_iv_spread_zscore": 1589.8,
          "high_low_range": 1526.8,
          "atr_percent": 1490.8,
          "vpi_short": 1480.8,
          "hvn_proximity": 1476.2,
          "obv": 1462.2,
          "acceleration_5d": 1448.8,
          "obv_ema": 1430.2,
          "volume_concentration_score": 1417.4,
          "vix": 1415.4,
          "bb_width": 1387.0,
          "volume_price_trend": 1353.2,
          "volatility_5d": 1334.2,
          "close_position": 1314.8,
          "vpi": 1293.2,
          "volume_sma": 1271.2,
          "rsi_divergence_3_14_z": 1244.0,
          "rsi_divergence_7_28_z": 1214.2,
          "distance_to_nearest_support": 1184.2,
          "velocity_10d": 1174.4,
          "dist_to_high_pivot": 1170.0,
          "dist_to_low_pivot": 1155.2,
          "rv_iv_spread": 1109.6,
          "distance_to_nearest_resistance": 1103.2,
          "atr": 1096.6,
          "macd_histogram": 1091.4,
          "stoch_d": 1087.4,
          "dist_to_vap_poc": 1063.2,
          "rsi_divergence_20d": 1063.0,
          "sma_10_20_cross": 1034.4,
          "momentum_divergence_5d": 1020.2,
          "vw_momentum_5d": 1009.2,
          "gap_up": 993.4,
          "accumulation_distribution": 982.4,
          "volatility_20d": 960.4,
          "stoch_k": 960.2,
          "rsi_divergence_3_14": 929.6,
          "gap_down": 894.6,
          "rsi_28": 883.4,
          "volume_ratio": 875.2,
          "velocity_5d": 846.8,
          "rsi_velocity": 846.0,
          "macd_signal": 837.2,
          "vw_momentum_20d": 815.4,
          "rsi_3": 769.2,
          "macd": 754.0,
          "velocity_20d": 730.6,
          "rsi_divergence_5d": 705.8,
          "ema_12_26_cross": 702.2,
          "vap_poc_price": 702.0,
          "bb_lower": 687.6,
          "latest_high_pivot": 685.4,
          "bb_upper": 651.2,
          "rsi_divergence_10d": 647.2,
          "sma_50": 627.4,
          "rsi_divergence_7_28": 625.4,
          "sma_10": 600.4,
          "momentum_divergence_20d": 587.4,
          "realized_vol_20d": 559.2,
          "rsi": 548.4,
          "rsi_7": 544.4,
          "vwap_band_position": 540.0,
          "distance_to_fib_618": 536.8,
          "distance_to_fib_382": 533.2,
          "latest_low_pivot": 493.8,
          "vwap_deviation": 493.2,
          "bb_position": 487.8,
          "ema_12": 486.8,
          "ema_26": 471.8,
          "distance_to_fib_500": 404.2,
          "sma_20": 359.6,
          "price_to_sma50": 280.2,
          "rsi_14": 274.6,
          "macd_high_vol": 194.6,
          "price_to_sma20": 165.4,
          "rsi_high_vol": 124.4,
          "rate_of_change_10d": 113.2,
          "vwap_volume_ratio": 108.4,
          "in_consolidation_zone": 104.8,
          "bb_squeeze": 100.4,
          "lower_low": 97.2,
          "rsi_low_vol": 91.8,
          "higher_high": 88.4,
          "rsi_momentum": 86.4,
          "momentum_5d": 75.0,
          "momentum_20d": 74.8,
          "bb_position_low_vol": 72.2,
          "near_support_zone": 70.8,
          "near_resistance_zone": 64.4,
          "vwap_crossover": 54.8,
          "iv_regime_underpriced": 47.4,
          "vwap_crossunder": 38.4,
          "macd_low_vol": 37.2,
          "distribution_signal": 26.2,
          "accumulation_signal": 23.2,
          "volatility_regime_normal": 18.2,
          "support_strength": 16.0,
          "iv_regime_fair": 15.0,
          "rsi_cross_30": 13.6,
          "rsi_cross_70": 11.4,
          "resistance_strength": 10.0,
          "regime_low_vol": 5.2,
          "regime_high_vol": 4.6,
          "volume_surge_with_price": 2.2,
          "volume_surge": 1.0,
          "iv_regime_overpriced": 0.8,
          "above_vwap": 0.4,
          "days_since_resistance_break": 0.0,
          "days_since_support_break": 0.0,
          "bullish_regime": 0.0,
          "bearish_regime": 0.0,
          "broke_resistance": 0.0,
          "broke_support": 0.0,
          "high_volume_negative": 0.0,
          "price_up_sentiment_down": 0.0,
          "regime_strength": 0.0,
          "news_volume": 0.0,
          "nsis_fast": 0.0,
          "nsis_slow": 0.0,
          "news_velocity": 0.0,
          "negative_ratio": 0.0,
          "neutral_regime": 0.0,
          "nsis": 0.0,
          "news_volume_normalized": 0.0,
          "positive_ratio": 0.0,
          "price_down_sentiment_up": 0.0,
          "nsis_normalized": 0.0,
          "high_volume_positive": 0.0,
          "low_volume_day": 0.0,
          "large_volume_day": 0.0,
          "sentiment_z_score": 0.0,
          "sentiment_volatility": 0.0,
          "sentiment_min": 0.0,
          "sentiment_momentum": 0.0,
          "sentiment_rsi": 0.0,
          "sentiment_sma_20": 0.0,
          "sentiment_sma_5": 0.0,
          "sentiment_std": 0.0,
          "sentiment_mean": 0.0,
          "sentiment_max": 0.0,
          "sentiment_acceleration": 0.0,
          "surge_positive": 0.0,
          "surge_negative": 0.0,
          "strong_bullish_divergence": 0.0,
          "strong_bearish_divergence": 0.0,
          "volume_surge_sentiment": 0.0
        },
        "top_features": [
          "return_lag_2",
          "return_lag_5",
          "return_lag_1",
          "upper_shadow",
          "volume_velocity",
          "lower_shadow",
          "vol_ratio_5_20",
          "body_size",
          "rv_iv_spread_zscore",
          "high_low_range",
          "atr_percent",
          "vpi_short",
          "hvn_proximity",
          "obv",
          "acceleration_5d",
          "obv_ema",
          "volume_concentration_score",
          "vix",
          "bb_width",
          "volume_price_trend"
        ],
        "training_curves": [
          "logs/lgb_training_curve_AAPL_fold1.png",
          "logs/lgb_training_curve_AAPL_fold2.png",
          "logs/lgb_training_curve_AAPL_fold3.png",
          "logs/lgb_training_curve_AAPL_fold4.png",
          "logs/lgb_training_curve_AAPL_fold5.png"
        ],
        "collapsed_folds": 1
      },
      "final_metadata": {
        "model_class": "lgb",
        "n_samples": 11350,
        "n_features": 154,
        "best_iteration": 500,
        "training_curve_path": "logs/lgb_training_curve_AAPL_final.png",
        "test_ic": 0.025611130282349667,
        "test_direction_acc": 0.5251101321585903,
        "val_ic": -0.02026228685643283,
        "val_direction_acc": 0.5176211453744494,
        "wfe": 101.44680851063828,
        "ic": 0.025611130282349667,
        "direction_acc": 0.5251101321585903,
        "prediction_stats": {
          "mean": 0.00481864178651058,
          "std": 0.005597649198455581,
          "min": -0.02101217603244297,
          "max": 0.02687914947856019,
          "pct_positive": 0.8378854625550661,
          "pct_negative": 0.16211453744493393
        },
        "train_samples": 6810,
        "val_samples": 2270,
        "test_samples": 2270,
        "train_on_full_data": false,
        "trained_at": "2025-12-29T12:31:02.705600"
      },
      "model_path": "saved_models/AAPL/gbm/lgb_reg.joblib",
      "scaler_path": "saved_models/AAPL/gbm/lgb_scaler.joblib"
    }
  }
}