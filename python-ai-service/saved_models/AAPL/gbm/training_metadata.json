{
  "symbol": "AAPL",
  "data_metadata": {
    "symbol": "AAPL",
    "n_samples": 11350,
    "n_features": 157,
    "target_col": "target_1d",
    "target_stats": {
      "mean": 0.0007953705404476437,
      "std": 0.025889662100961292,
      "min": -0.1,
      "max": 0.1,
      "pct_positive": 0.49982378854625553,
      "pct_negative": 0.46748898678414097
    },
    "leakage_check": {
      "is_valid": true,
      "flagged_features": [],
      "sentiment_features": [
        "sentiment_mean",
        "sentiment_std",
        "sentiment_min",
        "sentiment_max",
        "sentiment_sma_5",
        "sentiment_sma_20",
        "sentiment_momentum",
        "sentiment_acceleration",
        "sentiment_volatility",
        "sentiment_rsi",
        "price_up_sentiment_down",
        "price_down_sentiment_up",
        "volume_surge_sentiment",
        "sentiment_z_score"
      ],
      "total_features": 157
    },
    "date_range": {
      "start": "1980-12-15 00:00:00",
      "end": "2025-12-24 00:00:00"
    },
    "prepared_at": "2025-12-27T17:27:39.179115"
  },
  "models": {
    "xgb": {
      "cv_results": {
        "model_class": "xgb",
        "n_splits": 5,
        "fold_metrics": [
          {
            "fold": 1,
            "train_size": 11049,
            "val_size": 60,
            "mse": 0.00011932483279038942,
            "rmse": 0.010923590654651493,
            "mae": 0.008463868581246104,
            "r2": -0.010321851838941853,
            "dir_acc": 0.5666666666666667,
            "ic": -0.01711294832543743,
            "pred_std": 0.0002678495948202908
          },
          {
            "fold": 2,
            "train_size": 11109,
            "val_size": 60,
            "mse": 0.000836048490464661,
            "rmse": 0.028914503116336983,
            "mae": 0.019439704267574482,
            "r2": -0.06854371718883034,
            "dir_acc": 0.4666666666666667,
            "ic": 0.01761748448850832,
            "pred_std": 0.005570713896304369
          },
          {
            "fold": 3,
            "train_size": 11169,
            "val_size": 60,
            "mse": 0.00038461795725625513,
            "rmse": 0.019611679103438723,
            "mae": 0.014798729809022797,
            "r2": -0.11956755891912252,
            "dir_acc": 0.43333333333333335,
            "ic": 0.023689637797720136,
            "pred_std": 0.005601812154054642
          },
          {
            "fold": 4,
            "train_size": 11229,
            "val_size": 60,
            "mse": 0.0002546136369104143,
            "rmse": 0.015956617339223697,
            "mae": 0.01131154692956515,
            "r2": -0.08496611446517877,
            "dir_acc": 0.55,
            "ic": -0.003764949794589739,
            "pred_std": 0.0030213126447051764
          },
          {
            "fold": 5,
            "train_size": 11289,
            "val_size": 60,
            "mse": 0.00014960553809927017,
            "rmse": 0.012231334273057464,
            "mae": 0.008658253235396917,
            "r2": -0.20024740016066134,
            "dir_acc": 0.5,
            "ic": -0.1462768858547082,
            "pred_std": 0.0030451177153736353
          }
        ],
        "aggregate_metrics": {
          "mse_mean": 0.000348842091104198,
          "mse_std": 0.0002915057313645993,
          "rmse_mean": 0.017527544897341672,
          "rmse_std": 0.007213464924697244,
          "mae_mean": 0.012534420564561088,
          "mae_std": 0.004634099856319848,
          "r2_mean": -0.09672932851454696,
          "r2_std": 0.07006537989864076,
          "dir_acc_mean": 0.5033333333333333,
          "dir_acc_std": 0.0557773351022717,
          "ic_mean": -0.02516953233770138,
          "ic_std": 0.06965630461575827
        },
        "oof_predictions": "[            nan             nan             nan ... -8.05742387e-03\n -8.11912250e-05 -1.36056368e-03]",
        "oof_indices": "[-1 -1 -1 ...  4  4  4]",
        "feature_importance": {
          "rsi_cross_30": 0.012901109643280506,
          "rsi_14": 0.011708736419677734,
          "iv_regime_fair": 0.011278201825916767,
          "regime_low_vol": 0.011272096075117588,
          "latest_low_pivot": 0.011110439896583557,
          "rsi_high_vol": 0.010968928225338459,
          "latest_high_pivot": 0.010391115210950375,
          "macd_high_vol": 0.010145511478185654,
          "vwap_deviation": 0.009995277039706707,
          "macd_low_vol": 0.009934967383742332,
          "volume_surge": 0.009908740408718586,
          "realized_vol_20d": 0.009769737720489502,
          "distance_to_fib_382": 0.009754703380167484,
          "vap_poc_price": 0.009723857045173645,
          "vwap_crossunder": 0.00971552636474371,
          "distribution_signal": 0.009711151011288166,
          "dist_to_high_pivot": 0.009707938879728317,
          "distance_to_fib_618": 0.00966599490493536,
          "distance_to_fib_500": 0.009636441245675087,
          "rsi_28": 0.009629537351429462,
          "ema_12_26_cross": 0.009574120864272118,
          "momentum_divergence_20d": 0.009530403651297092,
          "vpi_short": 0.009501470252871513,
          "price_to_sma20": 0.009500321000814438,
          "high_low_range": 0.00948957446962595,
          "ema_26": 0.00948286335915327,
          "rsi_divergence_20d": 0.00942561961710453,
          "vw_momentum_20d": 0.009403640404343605,
          "accumulation_distribution": 0.009400645270943642,
          "return_lag_2": 0.009319225326180458,
          "volume_price_trend": 0.009313413873314857,
          "rsi_divergence_5d": 0.009312588721513748,
          "velocity_5d": 0.009311890229582787,
          "vw_momentum_5d": 0.00931005459278822,
          "support_strength": 0.009265335276722908,
          "price_to_sma50": 0.009219730272889137,
          "rsi_7": 0.009210833348333836,
          "volume_concentration_score": 0.00915698055177927,
          "rsi_divergence_10d": 0.009139029309153557,
          "rsi_divergence_3_14": 0.009099269285798073,
          "momentum_divergence_5d": 0.009054876863956451,
          "vwap_band_position": 0.009052257053554058,
          "distance_to_nearest_resistance": 0.009037315845489502,
          "vpi": 0.009025542996823788,
          "atr_percent": 0.009006407111883163,
          "dist_to_vap_poc": 0.008978468365967274,
          "momentum_5d": 0.008966517634689808,
          "rsi_cross_70": 0.008947153575718403,
          "velocity_10d": 0.008944662287831306,
          "return_lag_1": 0.00892774946987629,
          "rsi_divergence_3_14_z": 0.00888803694397211,
          "vix": 0.008779438212513924,
          "vol_ratio_5_20": 0.008768338710069656,
          "rate_of_change_10d": 0.008760550990700722,
          "rsi_velocity": 0.008752885274589062,
          "acceleration_5d": 0.00868656113743782,
          "rsi_divergence_7_28_z": 0.008665594272315502,
          "lower_shadow": 0.008640419691801071,
          "vwap_volume_ratio": 0.008637461811304092,
          "rsi_3": 0.008616747334599495,
          "rv_iv_spread": 0.008616683073341846,
          "obv_ema": 0.008558521047234535,
          "bb_width": 0.008547550067305565,
          "dist_to_low_pivot": 0.008532571606338024,
          "upper_shadow": 0.008479525335133076,
          "hvn_proximity": 0.008477991446852684,
          "bb_squeeze": 0.008472569286823273,
          "return_lag_5": 0.008470880798995495,
          "rsi_momentum": 0.008456064388155937,
          "close_position": 0.0084462258964777,
          "rsi_low_vol": 0.008394130505621433,
          "momentum_20d": 0.008387185633182526,
          "velocity_20d": 0.008378162980079651,
          "bb_position": 0.008298435248434544,
          "volume_ratio": 0.008274005725979805,
          "near_support_zone": 0.008258514106273651,
          "bb_lower": 0.008235317654907703,
          "obv": 0.008153550326824188,
          "volume_velocity": 0.008144276216626167,
          "rsi_divergence_7_28": 0.008094949647784233,
          "gap_up": 0.008081695064902306,
          "ema_12": 0.008076129481196404,
          "distance_to_nearest_support": 0.008073347620666027,
          "iv_regime_underpriced": 0.008071032352745533,
          "gap_down": 0.00806587003171444,
          "sma_20": 0.008007720112800598,
          "atr": 0.007993888109922409,
          "body_size": 0.007946970872581005,
          "sma_10_20_cross": 0.007930947467684746,
          "rv_iv_spread_zscore": 0.007779338862746954,
          "sma_50": 0.007720147725194693,
          "volume_sma": 0.0076863085851073265,
          "macd_signal": 0.007660269737243652,
          "bb_upper": 0.007605256047099829,
          "volume_surge_with_price": 0.0075365654192864895,
          "lower_low": 0.007442113943397999,
          "resistance_strength": 0.007429230958223343,
          "sma_10": 0.007409694604575634,
          "vwap_crossover": 0.007376873400062323,
          "accumulation_signal": 0.007239808328449726,
          "stoch_d": 0.006907306611537933,
          "bb_position_low_vol": 0.006901258137077093,
          "near_resistance_zone": 0.006846024189144373,
          "macd_histogram": 0.006790504790842533,
          "regime_high_vol": 0.006627845577895641,
          "stoch_k": 0.006567665375769138,
          "in_consolidation_zone": 0.006282164715230465,
          "volatility_5d": 0.006047360133379698,
          "macd": 0.005995054729282856,
          "volatility_regime_normal": 0.005985923111438751,
          "higher_high": 0.0059650130569934845,
          "volatility_20d": 0.005769336596131325,
          "log_returns": 0.005625738296657801,
          "momentum_1d": 0.0056212530471384525,
          "above_vwap": 0.005509776528924704,
          "returns": 0.0053380439057946205,
          "rsi": 0.0047306278720498085,
          "iv_regime_overpriced": 0.002644789172336459,
          "broke_support": 0.0,
          "bullish_regime": 0.0,
          "broke_resistance": 0.0,
          "days_since_support_break": 0.0,
          "bearish_regime": 0.0,
          "days_since_resistance_break": 0.0,
          "large_volume_day": 0.0,
          "price_up_sentiment_down": 0.0,
          "regime_strength": 0.0,
          "news_volume_normalized": 0.0,
          "news_volume": 0.0,
          "nsis_normalized": 0.0,
          "negative_ratio": 0.0,
          "neutral_regime": 0.0,
          "news_velocity": 0.0,
          "nsis_fast": 0.0,
          "nsis": 0.0,
          "price_down_sentiment_up": 0.0,
          "positive_ratio": 0.0,
          "nsis_slow": 0.0,
          "high_volume_positive": 0.0,
          "high_volume_negative": 0.0,
          "low_volume_day": 0.0,
          "sentiment_z_score": 0.0,
          "sentiment_volatility": 0.0,
          "sentiment_min": 0.0,
          "sentiment_momentum": 0.0,
          "sentiment_rsi": 0.0,
          "sentiment_sma_20": 0.0,
          "sentiment_sma_5": 0.0,
          "sentiment_std": 0.0,
          "sentiment_mean": 0.0,
          "sentiment_max": 0.0,
          "sentiment_acceleration": 0.0,
          "surge_positive": 0.0,
          "surge_negative": 0.0,
          "strong_bullish_divergence": 0.0,
          "strong_bearish_divergence": 0.0,
          "volume_surge_sentiment": 0.0
        },
        "top_features": [
          "rsi_cross_30",
          "rsi_14",
          "iv_regime_fair",
          "regime_low_vol",
          "latest_low_pivot",
          "rsi_high_vol",
          "latest_high_pivot",
          "macd_high_vol",
          "vwap_deviation",
          "macd_low_vol",
          "volume_surge",
          "realized_vol_20d",
          "distance_to_fib_382",
          "vap_poc_price",
          "vwap_crossunder",
          "distribution_signal",
          "dist_to_high_pivot",
          "distance_to_fib_618",
          "distance_to_fib_500",
          "rsi_28"
        ],
        "training_curves": [
          "logs/xgb_training_curve_AAPL_fold1.png",
          "logs/xgb_training_curve_AAPL_fold2.png",
          "logs/xgb_training_curve_AAPL_fold3.png",
          "logs/xgb_training_curve_AAPL_fold4.png",
          "logs/xgb_training_curve_AAPL_fold5.png"
        ],
        "collapsed_folds": 1
      },
      "final_metadata": {
        "model_class": "xgb",
        "n_samples": 11350,
        "n_features": 157,
        "best_iteration": 1,
        "training_curve_path": "logs/xgb_training_curve_AAPL_final.png",
        "test_ic": 0.008090092244594883,
        "test_direction_acc": 0.5378854625550661,
        "val_ic": 0.03741714010729454,
        "val_direction_acc": 0.5229074889867842,
        "wfe": 102.86436394271273,
        "ic": 0.008090092244594883,
        "direction_acc": 0.5378854625550661,
        "prediction_stats": {
          "mean": 0.0007238193647935987,
          "std": 0.00016541786317247897,
          "min": -0.0007624145364388824,
          "max": 0.0036602006293833256,
          "pct_positive": 0.9969162995594714,
          "pct_negative": 0.0030837004405286344
        },
        "train_samples": 6810,
        "val_samples": 2270,
        "test_samples": 2270,
        "train_on_full_data": false,
        "trained_at": "2025-12-27T17:28:04.027929"
      },
      "model_path": "saved_models/AAPL/gbm/xgb_reg.joblib",
      "scaler_path": "saved_models/AAPL/gbm/xgb_scaler.joblib"
    },
    "lgb": {
      "cv_results": {
        "model_class": "lgb",
        "n_splits": 5,
        "fold_metrics": [
          {
            "fold": 1,
            "train_size": 11049,
            "val_size": 60,
            "mse": 0.00011866499289611698,
            "rmse": 0.010893346267153953,
            "mae": 0.008475896117836118,
            "r2": -0.004734995789710261,
            "dir_acc": 0.5666666666666667,
            "ic": 0.13730068877070892,
            "pred_std": 1.1203966958980782e-05
          },
          {
            "fold": 2,
            "train_size": 11109,
            "val_size": 60,
            "mse": 0.0008683749654256212,
            "rmse": 0.029468202616135603,
            "mae": 0.02036453391439892,
            "r2": -0.10985980365075076,
            "dir_acc": 0.5,
            "ic": -0.023391937497169044,
            "pred_std": 0.00651988456143392
          },
          {
            "fold": 3,
            "train_size": 11169,
            "val_size": 60,
            "mse": 0.0004387695722030867,
            "rmse": 0.02094682725863482,
            "mae": 0.015388237165791886,
            "r2": -0.2771951220990696,
            "dir_acc": 0.5,
            "ic": 0.002943738209067164,
            "pred_std": 0.00649178624314041
          },
          {
            "fold": 4,
            "train_size": 11229,
            "val_size": 60,
            "mse": 0.0002599294793607332,
            "rmse": 0.01612232859610339,
            "mae": 0.011049388058969135,
            "r2": -0.10761811770591967,
            "dir_acc": 0.5,
            "ic": -0.05088696047770453,
            "pred_std": 0.003215105246951148
          },
          {
            "fold": 5,
            "train_size": 11289,
            "val_size": 60,
            "mse": 0.00021694380840633188,
            "rmse": 0.01472901247220369,
            "mae": 0.011441664393167334,
            "r2": -0.7404853144398587,
            "dir_acc": 0.4666666666666667,
            "ic": 0.0033109397831524306,
            "pred_std": 0.004418593893760483
          }
        ],
        "aggregate_metrics": {
          "mse_mean": 0.000380536563658378,
          "mse_std": 0.00029633712535312516,
          "rmse_mean": 0.01843194344204629,
          "rmse_std": 0.007141430582136947,
          "mae_mean": 0.013343943930032678,
          "mae_std": 0.004638139771125783,
          "r2_mean": -0.24797867073706178,
          "r2_std": 0.29213087256223413,
          "dir_acc_mean": 0.5066666666666666,
          "dir_acc_std": 0.036514837167011066,
          "ic_mean": 0.013855293757610989,
          "ic_std": 0.07253951804841398
        },
        "oof_predictions": "[        nan         nan         nan ... -0.02093734 -0.00961862\n -0.00673393]",
        "oof_indices": "[-1 -1 -1 ...  4  4  4]",
        "feature_importance": {
          "return_lag_2": 1013.4,
          "return_lag_5": 880.6,
          "return_lag_1": 819.0,
          "upper_shadow": 805.2,
          "lower_shadow": 770.4,
          "volume_velocity": 744.2,
          "vol_ratio_5_20": 660.8,
          "rv_iv_spread_zscore": 649.8,
          "atr_percent": 631.8,
          "body_size": 618.0,
          "obv_ema": 612.8,
          "high_low_range": 611.8,
          "vpi_short": 609.8,
          "acceleration_5d": 606.6,
          "obv": 604.8,
          "volume_concentration_score": 592.2,
          "vix": 586.8,
          "hvn_proximity": 577.4,
          "bb_width": 569.8,
          "volatility_5d": 552.4,
          "vpi": 545.0,
          "volume_sma": 520.0,
          "velocity_10d": 501.8,
          "rsi_divergence_7_28_z": 489.0,
          "close_position": 487.2,
          "distance_to_nearest_support": 480.0,
          "dist_to_high_pivot": 477.0,
          "rsi_divergence_3_14_z": 477.0,
          "returns": 471.4,
          "gap_up": 453.0,
          "macd_histogram": 452.4,
          "dist_to_low_pivot": 444.4,
          "rv_iv_spread": 443.4,
          "distance_to_nearest_resistance": 442.6,
          "rsi_divergence_20d": 426.4,
          "stoch_d": 425.0,
          "sma_10_20_cross": 416.6,
          "momentum_divergence_5d": 406.0,
          "atr": 395.4,
          "volume_price_trend": 394.6,
          "dist_to_vap_poc": 390.4,
          "vw_momentum_5d": 389.2,
          "stoch_k": 380.4,
          "rsi_28": 374.2,
          "gap_down": 368.8,
          "rsi_divergence_3_14": 359.8,
          "accumulation_distribution": 356.2,
          "volatility_20d": 351.2,
          "velocity_5d": 342.0,
          "ema_12_26_cross": 326.8,
          "vw_momentum_20d": 323.8,
          "vap_poc_price": 323.4,
          "rsi_velocity": 320.6,
          "volume_ratio": 318.6,
          "macd_signal": 313.0,
          "rsi_3": 295.8,
          "macd": 286.2,
          "latest_high_pivot": 279.2,
          "bb_lower": 278.0,
          "bb_upper": 273.6,
          "velocity_20d": 269.8,
          "momentum_divergence_20d": 269.6,
          "rsi_divergence_10d": 267.2,
          "rsi_divergence_5d": 262.4,
          "realized_vol_20d": 259.8,
          "sma_50": 248.8,
          "sma_10": 245.8,
          "rsi_divergence_7_28": 242.8,
          "latest_low_pivot": 240.8,
          "distance_to_fib_618": 240.2,
          "rsi": 235.0,
          "distance_to_fib_382": 214.6,
          "vwap_band_position": 209.6,
          "rsi_7": 209.0,
          "vwap_deviation": 201.2,
          "ema_26": 199.6,
          "bb_position": 197.0,
          "ema_12": 187.2,
          "distance_to_fib_500": 187.2,
          "sma_20": 151.2,
          "rsi_14": 136.4,
          "price_to_sma50": 127.0,
          "price_to_sma20": 83.8,
          "macd_high_vol": 81.4,
          "rsi_high_vol": 79.6,
          "rate_of_change_10d": 78.8,
          "log_returns": 74.2,
          "vwap_volume_ratio": 55.6,
          "rsi_momentum": 51.4,
          "momentum_5d": 46.4,
          "macd_low_vol": 46.2,
          "rsi_low_vol": 43.2,
          "in_consolidation_zone": 37.4,
          "momentum_20d": 32.0,
          "bb_squeeze": 31.4,
          "bb_position_low_vol": 30.4,
          "lower_low": 22.0,
          "higher_high": 21.8,
          "near_resistance_zone": 19.0,
          "near_support_zone": 18.6,
          "iv_regime_underpriced": 15.6,
          "vwap_crossover": 15.4,
          "vwap_crossunder": 12.8,
          "volatility_regime_normal": 8.6,
          "rsi_cross_30": 8.0,
          "distribution_signal": 7.4,
          "momentum_1d": 6.4,
          "support_strength": 6.0,
          "regime_low_vol": 4.6,
          "accumulation_signal": 4.2,
          "resistance_strength": 3.6,
          "rsi_cross_70": 2.6,
          "iv_regime_fair": 2.4,
          "regime_high_vol": 1.8,
          "large_volume_day": 0.6,
          "volume_surge": 0.4,
          "iv_regime_overpriced": 0.2,
          "volume_surge_with_price": 0.2,
          "bullish_regime": 0.0,
          "days_since_resistance_break": 0.0,
          "broke_support": 0.0,
          "days_since_support_break": 0.0,
          "bearish_regime": 0.0,
          "above_vwap": 0.0,
          "broke_resistance": 0.0,
          "price_up_sentiment_down": 0.0,
          "regime_strength": 0.0,
          "news_volume_normalized": 0.0,
          "news_volume": 0.0,
          "nsis_normalized": 0.0,
          "negative_ratio": 0.0,
          "neutral_regime": 0.0,
          "news_velocity": 0.0,
          "nsis_fast": 0.0,
          "nsis": 0.0,
          "price_down_sentiment_up": 0.0,
          "positive_ratio": 0.0,
          "nsis_slow": 0.0,
          "high_volume_positive": 0.0,
          "high_volume_negative": 0.0,
          "low_volume_day": 0.0,
          "sentiment_z_score": 0.0,
          "sentiment_volatility": 0.0,
          "sentiment_min": 0.0,
          "sentiment_momentum": 0.0,
          "sentiment_rsi": 0.0,
          "sentiment_sma_20": 0.0,
          "sentiment_sma_5": 0.0,
          "sentiment_std": 0.0,
          "sentiment_mean": 0.0,
          "sentiment_max": 0.0,
          "sentiment_acceleration": 0.0,
          "surge_positive": 0.0,
          "surge_negative": 0.0,
          "strong_bullish_divergence": 0.0,
          "strong_bearish_divergence": 0.0,
          "volume_surge_sentiment": 0.0
        },
        "top_features": [
          "return_lag_2",
          "return_lag_5",
          "return_lag_1",
          "upper_shadow",
          "lower_shadow",
          "volume_velocity",
          "vol_ratio_5_20",
          "rv_iv_spread_zscore",
          "atr_percent",
          "body_size",
          "obv_ema",
          "high_low_range",
          "vpi_short",
          "acceleration_5d",
          "obv",
          "volume_concentration_score",
          "vix",
          "hvn_proximity",
          "bb_width",
          "volatility_5d"
        ],
        "training_curves": [
          "logs/lgb_training_curve_AAPL_fold1.png",
          "logs/lgb_training_curve_AAPL_fold2.png",
          "logs/lgb_training_curve_AAPL_fold3.png",
          "logs/lgb_training_curve_AAPL_fold4.png",
          "logs/lgb_training_curve_AAPL_fold5.png"
        ],
        "collapsed_folds": 1
      },
      "final_metadata": {
        "model_class": "lgb",
        "n_samples": 11350,
        "n_features": 157,
        "best_iteration": 200,
        "training_curve_path": "logs/lgb_training_curve_AAPL_final.png",
        "test_ic": 0.0158969338840177,
        "test_direction_acc": 0.5303964757709251,
        "val_ic": -0.011123331565995303,
        "val_direction_acc": 0.505726872246696,
        "wfe": 104.8780487804878,
        "ic": 0.0158969338840177,
        "direction_acc": 0.5303964757709251,
        "prediction_stats": {
          "mean": 0.004264743176344346,
          "std": 0.00406013095414606,
          "min": -0.015455695289795826,
          "max": 0.02306085524413085,
          "pct_positive": 0.892511013215859,
          "pct_negative": 0.10748898678414097
        },
        "train_samples": 6810,
        "val_samples": 2270,
        "test_samples": 2270,
        "train_on_full_data": false,
        "trained_at": "2025-12-27T17:28:32.974807"
      },
      "model_path": "saved_models/AAPL/gbm/lgb_reg.joblib",
      "scaler_path": "saved_models/AAPL/gbm/lgb_scaler.joblib"
    }
  }
}