2025-12-18 18:07:10,052 - __main__ - INFO - ======================================================================
2025-12-18 18:07:10,052 - __main__ - INFO - STARTING COMPLETE TRAINING & BACKTESTING PIPELINE
2025-12-18 18:07:10,052 - __main__ - INFO - Symbols: AAPL
2025-12-18 18:07:10,052 - __main__ - INFO - Epochs: 5
2025-12-18 18:07:10,052 - __main__ - INFO - Batch Size: 512
2025-12-18 18:07:10,052 - __main__ - INFO - ======================================================================
2025-12-18 18:07:10,052 - __main__ - INFO - 


2025-12-18 18:07:10,052 - __main__ - INFO - ######################################################################
2025-12-18 18:07:10,052 - __main__ - INFO - # PROCESSING: AAPL
2025-12-18 18:07:10,052 - __main__ - INFO - ######################################################################
2025-12-18 18:07:10,052 - __main__ - INFO - ======================================================================
2025-12-18 18:07:10,052 - __main__ - INFO - PHASE 1: DATA PREPARATION - AAPL
2025-12-18 18:07:10,052 - __main__ - INFO - ======================================================================
2025-12-18 18:07:10,638 - __main__ - INFO - Fetching raw data for AAPL...
2025-12-18 18:07:10,638 - data.data_fetcher - INFO - Fetching data for AAPL (period=max)
2025-12-18 18:07:11,323 - data.data_fetcher - INFO - ✓ Fetched 11347 days of data for AAPL
2025-12-18 18:07:11,324 - __main__ - INFO - ✓ Fetched 11347 rows of OHLCV data
2025-12-18 18:07:11,324 - __main__ - INFO - Engineering features for AAPL...
2025-12-18 18:12:59,459 - data.feature_engineer - INFO - Cleaning features and handling NaN values (no look-ahead)...
2025-12-18 18:12:59,463 - data.feature_engineer - WARNING - Filling remaining NaNs with neutral values: {'returns': 1, 'log_returns': 1, 'volatility_5d': 5, 'volatility_20d': 20, 'rsi': 13, 'macd': 25, 'macd_signal': 33, 'macd_histogram': 33, 'stoch_k': 13, 'stoch_d': 15, 'sma_10': 9, 'sma_20': 19, 'sma_50': 49, 'price_to_sma20': 19, 'price_to_sma50': 49, 'sma_10_20_cross': 19, 'bb_upper': 19, 'bb_lower': 19, 'bb_width': 19, 'bb_position': 19, 'vix': 2288, 'realized_vol_20d': 2, 'rv_iv_spread': 2288, 'volume_sma': 19, 'volume_ratio': 19, 'momentum_1d': 1, 'momentum_5d': 5, 'momentum_20d': 20, 'rate_of_change_10d': 10, 'vol_ratio_5_20': 20, 'volume_price_trend': 19, 'accumulation_distribution': 38, 'return_lag_1': 2, 'return_lag_2': 3, 'return_lag_5': 6, 'velocity_5d': 5, 'velocity_10d': 10, 'velocity_20d': 20, 'acceleration_5d': 10, 'rsi_velocity': 18, 'volume_velocity': 6, 'gap_up': 1, 'gap_down': 1, 'rsi_momentum': 18, 'momentum_divergence_5d': 18, 'momentum_divergence_20d': 33, 'distance_to_fib_382': 20, 'distance_to_fib_500': 20, 'distance_to_fib_618': 20, 'vwap_deviation': 19, 'vwap_volume_ratio': 19, 'vwap_band_position': 19, 'vw_momentum_5d': 5, 'vw_momentum_20d': 20}
2025-12-18 18:12:59,488 - data.feature_engineer - INFO - [OK] All NaN values handled. Shape: (11347, 128)
2025-12-18 18:12:59,502 - data.feature_engineer - INFO - [AUDIT] Feature Audit for AAPL:
2025-12-18 18:12:59,502 - data.feature_engineer - INFO -    Actual: 121 features
2025-12-18 18:12:59,502 - data.feature_engineer - INFO -    Expected: 113 features
2025-12-18 18:12:59,502 - data.feature_engineer - WARNING -    [WARN] Extra features (8): ['regime_normal_vol', 'volatility_regime_low', 'stoch_k_low_vol', 'momentum_low_vol', 'stoch_k_high_vol', 'bb_position_high_vol', 'volatility_regime_high', 'momentum_high_vol']
2025-12-18 18:12:59,503 - data.feature_engineer - INFO -    Categories: {'price_momentum': 16, 'volatility': 35, 'volume': 15, 'trend': 16, 'pattern': 5, 'support_resistance': 11, 'sentiment': 0, 'regime': 9, 'divergence': 19, 'new_v31': 21}
2025-12-18 18:12:59,521 - data.feature_engineer - WARNING - validate_feature_count() failed: CRITICAL: Final feature count is 113, expected 147!
Columns: ['Open', 'High', 'Low', 'Close', 'Volume', 'returns', 'log_returns', 'volatility_5d', 'volatility_20d', 'rsi', 'macd', 'macd_signal', 'macd_histogram', 'stoch_k', 'stoch_d', 'sma_10', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'price_to_sma20', 'price_to_sma50', 'sma_10_20_cross', 'ema_12_26_cross', 'bb_upper', 'bb_lower', 'bb_width', 'bb_position', 'atr', 'atr_percent', 'realized_vol_20d', 'vix', 'rv_iv_spread', 'rv_iv_spread_zscore', 'iv_regime_underpriced', 'iv_regime_overpriced', 'iv_regime_fair', 'volatility_regime_normal', 'volume_sma', 'volume_ratio', 'obv', 'obv_ema', 'velocity_5d', 'velocity_10d', 'velocity_20d', 'acceleration_5d', 'rsi_velocity', 'volume_velocity', 'higher_high', 'lower_low', 'gap_up', 'gap_down', 'body_size', 'upper_shadow', 'lower_shadow', 'momentum_1d', 'momentum_5d', 'momentum_20d', 'rate_of_change_10d', 'vol_ratio_5_20', 'high_low_range', 'close_position', 'volume_price_trend', 'accumulation_distribution', 'return_lag_1', 'return_lag_2', 'return_lag_5', 'rsi_cross_30', 'rsi_cross_70', 'bb_squeeze', 'volume_surge', 'rsi_momentum', 'momentum_divergence_5d', 'momentum_divergence_20d', 'rsi_3', 'rsi_14', 'rsi_divergence_3_14', 'rsi_divergence_3_14_z', 'rsi_7', 'rsi_28', 'rsi_divergence_7_28', 'rsi_divergence_7_28_z', 'distance_to_nearest_support', 'distance_to_nearest_resistance', 'support_strength', 'resistance_strength', 'broke_resistance', 'broke_support', 'days_since_support_break', 'days_since_resistance_break', 'distance_to_fib_382', 'distance_to_fib_500', 'distance_to_fib_618', 'in_consolidation_zone', 'vwap_deviation', 'vwap_volume_ratio', 'above_vwap', 'vwap_crossover', 'vwap_crossunder', 'vwap_band_position', 'vw_momentum_5d', 'vw_momentum_20d', 'volume_surge_with_price', 'large_volume_day', 'accumulation_signal', 'distribution_signal', 'vpi', 'vpi_short', 'rsi_divergence_5d', 'rsi_divergence_10d', 'rsi_divergence_20d', 'regime_low_vol', 'regime_high_vol', 'rsi_low_vol', 'rsi_high_vol', 'macd_low_vol', 'macd_high_vol', 'bb_position_low_vol']

2025-12-18 18:12:59,522 - data.feature_engineer - INFO - [OK] Feature engineering complete: (11347, 118)
2025-12-18 18:12:59,522 - __main__ - INFO - ✓ Engineered 118 features
2025-12-18 18:12:59,523 - __main__ - INFO - ✓ Saved 118 feature columns to cache
2025-12-18 18:12:59,526 - __main__ - INFO - ✓ Data preparation completed for AAPL
2025-12-18 18:12:59,531 - __main__ - INFO - 
PHASE 2A: TRAIN REGRESSOR - AAPL
2025-12-18 18:12:59,531 - __main__ - INFO - ----------------------------------------------------------------------
